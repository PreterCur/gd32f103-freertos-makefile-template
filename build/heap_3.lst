ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\cceeF86A.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"heap_3.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "./freertos/src/MEM/heap_3.c"
  18              		.section	.text.pvPortMalloc,"ax",%progbits
  19              		.align	1
  20              		.global	pvPortMalloc
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	pvPortMalloc:
  26              	.LFB61:
   1:./freertos/src/MEM/heap_3.c **** /*
   2:./freertos/src/MEM/heap_3.c ****  * FreeRTOS Kernel V10.3.1
   3:./freertos/src/MEM/heap_3.c ****  * Copyright (C) 2020 Amazon.com, Inc. or its affiliates.  All Rights Reserved.
   4:./freertos/src/MEM/heap_3.c ****  *
   5:./freertos/src/MEM/heap_3.c ****  * Permission is hereby granted, free of charge, to any person obtaining a copy of
   6:./freertos/src/MEM/heap_3.c ****  * this software and associated documentation files (the "Software"), to deal in
   7:./freertos/src/MEM/heap_3.c ****  * the Software without restriction, including without limitation the rights to
   8:./freertos/src/MEM/heap_3.c ****  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
   9:./freertos/src/MEM/heap_3.c ****  * the Software, and to permit persons to whom the Software is furnished to do so,
  10:./freertos/src/MEM/heap_3.c ****  * subject to the following conditions:
  11:./freertos/src/MEM/heap_3.c ****  *
  12:./freertos/src/MEM/heap_3.c ****  * The above copyright notice and this permission notice shall be included in all
  13:./freertos/src/MEM/heap_3.c ****  * copies or substantial portions of the Software.
  14:./freertos/src/MEM/heap_3.c ****  *
  15:./freertos/src/MEM/heap_3.c ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  16:./freertos/src/MEM/heap_3.c ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  17:./freertos/src/MEM/heap_3.c ****  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  18:./freertos/src/MEM/heap_3.c ****  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  19:./freertos/src/MEM/heap_3.c ****  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  20:./freertos/src/MEM/heap_3.c ****  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  21:./freertos/src/MEM/heap_3.c ****  *
  22:./freertos/src/MEM/heap_3.c ****  * http://www.FreeRTOS.org
  23:./freertos/src/MEM/heap_3.c ****  * http://aws.amazon.com/freertos
  24:./freertos/src/MEM/heap_3.c ****  *
  25:./freertos/src/MEM/heap_3.c ****  * 1 tab == 4 spaces!
  26:./freertos/src/MEM/heap_3.c ****  */
  27:./freertos/src/MEM/heap_3.c **** 
  28:./freertos/src/MEM/heap_3.c **** 
  29:./freertos/src/MEM/heap_3.c **** /*
  30:./freertos/src/MEM/heap_3.c ****  * Implementation of pvPortMalloc() and vPortFree() that relies on the
  31:./freertos/src/MEM/heap_3.c ****  * compilers own malloc() and free() implementations.
  32:./freertos/src/MEM/heap_3.c ****  *
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\cceeF86A.s 			page 2


  33:./freertos/src/MEM/heap_3.c ****  * This file can only be used if the linker is configured to to generate
  34:./freertos/src/MEM/heap_3.c ****  * a heap memory area.
  35:./freertos/src/MEM/heap_3.c ****  *
  36:./freertos/src/MEM/heap_3.c ****  * See heap_1.c, heap_2.c and heap_4.c for alternative implementations, and the
  37:./freertos/src/MEM/heap_3.c ****  * memory management pages of http://www.FreeRTOS.org for more information.
  38:./freertos/src/MEM/heap_3.c ****  */
  39:./freertos/src/MEM/heap_3.c **** 
  40:./freertos/src/MEM/heap_3.c **** #include <stdlib.h>
  41:./freertos/src/MEM/heap_3.c **** 
  42:./freertos/src/MEM/heap_3.c **** /* Defining MPU_WRAPPERS_INCLUDED_FROM_API_FILE prevents task.h from redefining
  43:./freertos/src/MEM/heap_3.c **** all the API functions to use the MPU wrappers.  That should only be done when
  44:./freertos/src/MEM/heap_3.c **** task.h is included from an application file. */
  45:./freertos/src/MEM/heap_3.c **** #define MPU_WRAPPERS_INCLUDED_FROM_API_FILE
  46:./freertos/src/MEM/heap_3.c **** 
  47:./freertos/src/MEM/heap_3.c **** #include "FreeRTOS.h"
  48:./freertos/src/MEM/heap_3.c **** #include "task.h"
  49:./freertos/src/MEM/heap_3.c **** 
  50:./freertos/src/MEM/heap_3.c **** #undef MPU_WRAPPERS_INCLUDED_FROM_API_FILE
  51:./freertos/src/MEM/heap_3.c **** 
  52:./freertos/src/MEM/heap_3.c **** #if( configSUPPORT_DYNAMIC_ALLOCATION == 0 )
  53:./freertos/src/MEM/heap_3.c **** 	#error This file must not be used if configSUPPORT_DYNAMIC_ALLOCATION is 0
  54:./freertos/src/MEM/heap_3.c **** #endif
  55:./freertos/src/MEM/heap_3.c **** 
  56:./freertos/src/MEM/heap_3.c **** /*-----------------------------------------------------------*/
  57:./freertos/src/MEM/heap_3.c **** 
  58:./freertos/src/MEM/heap_3.c **** void *pvPortMalloc( size_t xWantedSize )
  59:./freertos/src/MEM/heap_3.c **** {
  27              		.loc 1 59 1
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 16
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31 0000 80B5     		push	{r7, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 7, -8
  35              		.cfi_offset 14, -4
  36 0002 84B0     		sub	sp, sp, #16
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 24
  39 0004 00AF     		add	r7, sp, #0
  40              	.LCFI2:
  41              		.cfi_def_cfa_register 7
  42 0006 7860     		str	r0, [r7, #4]
  60:./freertos/src/MEM/heap_3.c **** void *pvReturn;
  61:./freertos/src/MEM/heap_3.c **** 
  62:./freertos/src/MEM/heap_3.c **** 	vTaskSuspendAll();
  43              		.loc 1 62 2
  44 0008 FFF7FEFF 		bl	vTaskSuspendAll
  63:./freertos/src/MEM/heap_3.c **** 	{
  64:./freertos/src/MEM/heap_3.c **** 		pvReturn = malloc( xWantedSize );
  45              		.loc 1 64 14
  46 000c 7868     		ldr	r0, [r7, #4]
  47 000e FFF7FEFF 		bl	malloc
  48 0012 0346     		mov	r3, r0
  49 0014 FB60     		str	r3, [r7, #12]
  65:./freertos/src/MEM/heap_3.c **** 		traceMALLOC( pvReturn, xWantedSize );
  66:./freertos/src/MEM/heap_3.c **** 	}
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\cceeF86A.s 			page 3


  67:./freertos/src/MEM/heap_3.c **** 	( void ) xTaskResumeAll();
  50              		.loc 1 67 11
  51 0016 FFF7FEFF 		bl	xTaskResumeAll
  68:./freertos/src/MEM/heap_3.c **** 
  69:./freertos/src/MEM/heap_3.c **** 	#if( configUSE_MALLOC_FAILED_HOOK == 1 )
  70:./freertos/src/MEM/heap_3.c **** 	{
  71:./freertos/src/MEM/heap_3.c **** 		if( pvReturn == NULL )
  72:./freertos/src/MEM/heap_3.c **** 		{
  73:./freertos/src/MEM/heap_3.c **** 			extern void vApplicationMallocFailedHook( void );
  74:./freertos/src/MEM/heap_3.c **** 			vApplicationMallocFailedHook();
  75:./freertos/src/MEM/heap_3.c **** 		}
  76:./freertos/src/MEM/heap_3.c **** 	}
  77:./freertos/src/MEM/heap_3.c **** 	#endif
  78:./freertos/src/MEM/heap_3.c **** 
  79:./freertos/src/MEM/heap_3.c **** 	return pvReturn;
  52              		.loc 1 79 9
  53 001a FB68     		ldr	r3, [r7, #12]
  80:./freertos/src/MEM/heap_3.c **** }
  54              		.loc 1 80 1
  55 001c 1846     		mov	r0, r3
  56 001e 1037     		adds	r7, r7, #16
  57              	.LCFI3:
  58              		.cfi_def_cfa_offset 8
  59 0020 BD46     		mov	sp, r7
  60              	.LCFI4:
  61              		.cfi_def_cfa_register 13
  62              		@ sp needed
  63 0022 80BD     		pop	{r7, pc}
  64              		.cfi_endproc
  65              	.LFE61:
  67              		.section	.text.vPortFree,"ax",%progbits
  68              		.align	1
  69              		.global	vPortFree
  70              		.syntax unified
  71              		.thumb
  72              		.thumb_func
  74              	vPortFree:
  75              	.LFB62:
  81:./freertos/src/MEM/heap_3.c **** /*-----------------------------------------------------------*/
  82:./freertos/src/MEM/heap_3.c **** 
  83:./freertos/src/MEM/heap_3.c **** void vPortFree( void *pv )
  84:./freertos/src/MEM/heap_3.c **** {
  76              		.loc 1 84 1
  77              		.cfi_startproc
  78              		@ args = 0, pretend = 0, frame = 8
  79              		@ frame_needed = 1, uses_anonymous_args = 0
  80 0000 80B5     		push	{r7, lr}
  81              	.LCFI5:
  82              		.cfi_def_cfa_offset 8
  83              		.cfi_offset 7, -8
  84              		.cfi_offset 14, -4
  85 0002 82B0     		sub	sp, sp, #8
  86              	.LCFI6:
  87              		.cfi_def_cfa_offset 16
  88 0004 00AF     		add	r7, sp, #0
  89              	.LCFI7:
  90              		.cfi_def_cfa_register 7
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\cceeF86A.s 			page 4


  91 0006 7860     		str	r0, [r7, #4]
  85:./freertos/src/MEM/heap_3.c **** 	if( pv )
  92              		.loc 1 85 4
  93 0008 7B68     		ldr	r3, [r7, #4]
  94 000a 002B     		cmp	r3, #0
  95 000c 06D0     		beq	.L5
  86:./freertos/src/MEM/heap_3.c **** 	{
  87:./freertos/src/MEM/heap_3.c **** 		vTaskSuspendAll();
  96              		.loc 1 87 3
  97 000e FFF7FEFF 		bl	vTaskSuspendAll
  88:./freertos/src/MEM/heap_3.c **** 		{
  89:./freertos/src/MEM/heap_3.c **** 			free( pv );
  98              		.loc 1 89 4
  99 0012 7868     		ldr	r0, [r7, #4]
 100 0014 FFF7FEFF 		bl	free
  90:./freertos/src/MEM/heap_3.c **** 			traceFREE( pv, 0 );
  91:./freertos/src/MEM/heap_3.c **** 		}
  92:./freertos/src/MEM/heap_3.c **** 		( void ) xTaskResumeAll();
 101              		.loc 1 92 12
 102 0018 FFF7FEFF 		bl	xTaskResumeAll
 103              	.L5:
  93:./freertos/src/MEM/heap_3.c **** 	}
  94:./freertos/src/MEM/heap_3.c **** }
 104              		.loc 1 94 1
 105 001c 00BF     		nop
 106 001e 0837     		adds	r7, r7, #8
 107              	.LCFI8:
 108              		.cfi_def_cfa_offset 8
 109 0020 BD46     		mov	sp, r7
 110              	.LCFI9:
 111              		.cfi_def_cfa_register 13
 112              		@ sp needed
 113 0022 80BD     		pop	{r7, pc}
 114              		.cfi_endproc
 115              	.LFE62:
 117              		.text
 118              	.Letext0:
 119              		.file 2 "C:/arm-toolchain/14.3/lib/gcc/arm-none-eabi/14.3.1/include/stddef.h"
 120              		.file 3 "./freertos/src/portable/GCC/ARM_CM3/portmacro.h"
 121              		.file 4 "C:/arm-toolchain/14.3/arm-none-eabi/include/stdlib.h"
 122              		.file 5 "./freertos/inc/task.h"
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\cceeF86A.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 heap_3.c
C:\Users\PRAETE~1\AppData\Local\Temp\cceeF86A.s:19     .text.pvPortMalloc:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\cceeF86A.s:25     .text.pvPortMalloc:00000000 pvPortMalloc
C:\Users\PRAETE~1\AppData\Local\Temp\cceeF86A.s:68     .text.vPortFree:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\cceeF86A.s:74     .text.vPortFree:00000000 vPortFree

UNDEFINED SYMBOLS
vTaskSuspendAll
malloc
xTaskResumeAll
free
