ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"gd32f10x_i2c.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c"
  18              		.section	.text.i2c_deinit,"ax",%progbits
  19              		.align	1
  20              		.global	i2c_deinit
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	i2c_deinit:
  26              	.LFB56:
   1:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
   2:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \file    gd32f10x_i2c.c
   3:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief   I2C driver
   4:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
   5:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \version 2014-12-26, V1.0.0, firmware for GD32F10x
   6:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \version 2017-06-20, V2.0.0, firmware for GD32F10x
   7:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \version 2018-07-31, V2.1.0, firmware for GD32F10x
   8:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \version 2019-04-16, V2.1.1, firmware for GD32F10x
   9:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \version 2020-09-30, V2.2.0, firmware for GD32F10x
  10:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
  11:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
  12:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*
  13:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     Copyright (c) 2020, GigaDevice Semiconductor Inc.
  14:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
  15:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     Redistribution and use in source and binary forms, with or without modification, 
  16:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** are permitted provided that the following conditions are met:
  17:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
  18:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     1. Redistributions of source code must retain the above copyright notice, this 
  19:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****        list of conditions and the following disclaimer.
  20:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     2. Redistributions in binary form must reproduce the above copyright notice, 
  21:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****        this list of conditions and the following disclaimer in the documentation 
  22:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****        and/or other materials provided with the distribution.
  23:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     3. Neither the name of the copyright holder nor the names of its contributors 
  24:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****        may be used to endorse or promote products derived from this software without 
  25:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****        specific prior written permission.
  26:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
  27:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" 
  28:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED 
  29:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. 
  30:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
  31:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT 
  32:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR 
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 2


  33:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, 
  34:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) 
  35:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY 
  36:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** OF SUCH DAMAGE.
  37:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
  38:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
  39:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** #include "gd32f10x_i2c.h"
  40:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
  41:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /* I2C register bit mask */
  42:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** #define I2CCLK_MAX                    ((uint32_t)0x00000036U)             /*!< i2cclk maximum value
  43:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** #define I2CCLK_MIN                    ((uint32_t)0x00000002U)             /*!< i2cclk minimum value
  44:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** #define I2C_FLAG_MASK                 ((uint32_t)0x0000FFFFU)             /*!< i2c flag mask */
  45:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** #define I2C_ADDRESS_MASK              ((uint32_t)0x000003FFU)             /*!< i2c address mask */
  46:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** #define I2C_ADDRESS2_MASK             ((uint32_t)0x000000FEU)             /*!< the second i2c addre
  47:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
  48:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /* I2C register bit offset */
  49:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** #define STAT1_PECV_OFFSET             ((uint32_t)0x00000008U)             /* bit offset of PECV in 
  50:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
  51:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
  52:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      reset I2C
  53:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
  54:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
  55:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
  56:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
  57:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_deinit(uint32_t i2c_periph)
  58:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
  27              		.loc 1 58 1
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31 0000 80B5     		push	{r7, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 7, -8
  35              		.cfi_offset 14, -4
  36 0002 82B0     		sub	sp, sp, #8
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 16
  39 0004 00AF     		add	r7, sp, #0
  40              	.LCFI2:
  41              		.cfi_def_cfa_register 7
  42 0006 7860     		str	r0, [r7, #4]
  59:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     switch(i2c_periph){
  43              		.loc 1 59 5
  44 0008 7B68     		ldr	r3, [r7, #4]
  45 000a 0F4A     		ldr	r2, .L6
  46 000c 9342     		cmp	r3, r2
  47 000e 04D0     		beq	.L2
  48 0010 7B68     		ldr	r3, [r7, #4]
  49 0012 0E4A     		ldr	r2, .L6+4
  50 0014 9342     		cmp	r3, r2
  51 0016 09D0     		beq	.L3
  60:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     case I2C0:
  61:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         /* reset I2C0 */
  62:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         rcu_periph_reset_enable(RCU_I2C0RST);
  63:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         rcu_periph_reset_disable(RCU_I2C0RST);
  64:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         break;
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 3


  65:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     case I2C1:
  66:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         /* reset I2C1 */
  67:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         rcu_periph_reset_enable(RCU_I2C1RST);
  68:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         rcu_periph_reset_disable(RCU_I2C1RST);
  69:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         break;
  70:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     default:
  71:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         break;
  52              		.loc 1 71 9
  53 0018 11E0     		b	.L5
  54              	.L2:
  62:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         rcu_periph_reset_disable(RCU_I2C0RST);
  55              		.loc 1 62 9
  56 001a 40F21540 		movw	r0, #1045
  57 001e FFF7FEFF 		bl	rcu_periph_reset_enable
  63:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         break;
  58              		.loc 1 63 9
  59 0022 40F21540 		movw	r0, #1045
  60 0026 FFF7FEFF 		bl	rcu_periph_reset_disable
  64:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     case I2C1:
  61              		.loc 1 64 9
  62 002a 08E0     		b	.L5
  63              	.L3:
  67:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         rcu_periph_reset_disable(RCU_I2C1RST);
  64              		.loc 1 67 9
  65 002c 40F21640 		movw	r0, #1046
  66 0030 FFF7FEFF 		bl	rcu_periph_reset_enable
  68:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         break;
  67              		.loc 1 68 9
  68 0034 40F21640 		movw	r0, #1046
  69 0038 FFF7FEFF 		bl	rcu_periph_reset_disable
  69:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     default:
  70              		.loc 1 69 9
  71 003c 00BF     		nop
  72              	.L5:
  72:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
  73:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
  73              		.loc 1 73 1
  74 003e 00BF     		nop
  75 0040 0837     		adds	r7, r7, #8
  76              	.LCFI3:
  77              		.cfi_def_cfa_offset 8
  78 0042 BD46     		mov	sp, r7
  79              	.LCFI4:
  80              		.cfi_def_cfa_register 13
  81              		@ sp needed
  82 0044 80BD     		pop	{r7, pc}
  83              	.L7:
  84 0046 00BF     		.align	2
  85              	.L6:
  86 0048 00540040 		.word	1073763328
  87 004c 00580040 		.word	1073764352
  88              		.cfi_endproc
  89              	.LFE56:
  91              		.section	.text.i2c_clock_config,"ax",%progbits
  92              		.align	1
  93              		.global	i2c_clock_config
  94              		.syntax unified
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 4


  95              		.thumb
  96              		.thumb_func
  98              	i2c_clock_config:
  99              	.LFB57:
  74:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
  75:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
  76:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      configure I2C clock
  77:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
  78:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  clkspeed: I2C clock speed, supports standard mode (up to 100 kHz), fast mode (up to
  79:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  dutycyc: duty cycle in fast mode
  80:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
  81:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_DTCY_2: T_low/T_high=2 
  82:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_DTCY_16_9: T_low/T_high=16/9
  83:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
  84:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
  85:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
  86:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_clock_config(uint32_t i2c_periph, uint32_t clkspeed, uint32_t dutycyc)
  87:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 100              		.loc 1 87 1
 101              		.cfi_startproc
 102              		@ args = 0, pretend = 0, frame = 40
 103              		@ frame_needed = 1, uses_anonymous_args = 0
 104 0000 80B5     		push	{r7, lr}
 105              	.LCFI5:
 106              		.cfi_def_cfa_offset 8
 107              		.cfi_offset 7, -8
 108              		.cfi_offset 14, -4
 109 0002 8AB0     		sub	sp, sp, #40
 110              	.LCFI6:
 111              		.cfi_def_cfa_offset 48
 112 0004 00AF     		add	r7, sp, #0
 113              	.LCFI7:
 114              		.cfi_def_cfa_register 7
 115 0006 F860     		str	r0, [r7, #12]
 116 0008 B960     		str	r1, [r7, #8]
 117 000a 7A60     		str	r2, [r7, #4]
  88:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t pclk1, clkc, freq, risetime;
  89:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t temp;
  90:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
  91:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     pclk1 = rcu_clock_freq_get(CK_APB1);
 118              		.loc 1 91 13
 119 000c 0220     		movs	r0, #2
 120 000e FFF7FEFF 		bl	rcu_clock_freq_get
 121 0012 F861     		str	r0, [r7, #28]
  92:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* I2C peripheral clock frequency */
  93:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     freq = (uint32_t)(pclk1/1000000U);
 122              		.loc 1 93 10
 123 0014 FB69     		ldr	r3, [r7, #28]
 124 0016 544A     		ldr	r2, .L20
 125 0018 A2FB0323 		umull	r2, r3, r2, r3
 126 001c 9B0C     		lsrs	r3, r3, #18
 127 001e 3B62     		str	r3, [r7, #32]
  94:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     if(freq >= I2CCLK_MAX){
 128              		.loc 1 94 7
 129 0020 3B6A     		ldr	r3, [r7, #32]
 130 0022 352B     		cmp	r3, #53
 131 0024 01D9     		bls	.L9
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 5


  95:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         freq = I2CCLK_MAX;
 132              		.loc 1 95 14
 133 0026 3623     		movs	r3, #54
 134 0028 3B62     		str	r3, [r7, #32]
 135              	.L9:
  96:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
  97:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     temp = I2C_CTL1(i2c_periph);
 136              		.loc 1 97 12
 137 002a FB68     		ldr	r3, [r7, #12]
 138 002c 0433     		adds	r3, r3, #4
 139              		.loc 1 97 10
 140 002e 1B68     		ldr	r3, [r3]
 141 0030 BB61     		str	r3, [r7, #24]
  98:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     temp &= ~I2C_CTL1_I2CCLK;
 142              		.loc 1 98 10
 143 0032 BB69     		ldr	r3, [r7, #24]
 144 0034 23F03F03 		bic	r3, r3, #63
 145 0038 BB61     		str	r3, [r7, #24]
  99:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     temp |= freq;
 146              		.loc 1 99 10
 147 003a BA69     		ldr	r2, [r7, #24]
 148 003c 3B6A     		ldr	r3, [r7, #32]
 149 003e 1343     		orrs	r3, r3, r2
 150 0040 BB61     		str	r3, [r7, #24]
 100:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 101:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL1(i2c_periph) = temp;
 151              		.loc 1 101 5
 152 0042 FB68     		ldr	r3, [r7, #12]
 153 0044 0433     		adds	r3, r3, #4
 154 0046 1A46     		mov	r2, r3
 155              		.loc 1 101 26
 156 0048 BB69     		ldr	r3, [r7, #24]
 157 004a 1360     		str	r3, [r2]
 102:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 103:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     if(100000U >= clkspeed){
 158              		.loc 1 103 7
 159 004c BB68     		ldr	r3, [r7, #8]
 160 004e 474A     		ldr	r2, .L20+4
 161 0050 9342     		cmp	r3, r2
 162 0052 33D8     		bhi	.L10
 104:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         /* the maximum SCL rise time is 1000ns in standard mode */
 105:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         risetime = (uint32_t)((pclk1/1000000U)+1U);
 163              		.loc 1 105 37
 164 0054 FB69     		ldr	r3, [r7, #28]
 165 0056 444A     		ldr	r2, .L20
 166 0058 A2FB0323 		umull	r2, r3, r2, r3
 167 005c 9B0C     		lsrs	r3, r3, #18
 168              		.loc 1 105 18
 169 005e 0133     		adds	r3, r3, #1
 170 0060 7B61     		str	r3, [r7, #20]
 106:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         if(risetime >= I2CCLK_MAX){
 171              		.loc 1 106 11
 172 0062 7B69     		ldr	r3, [r7, #20]
 173 0064 352B     		cmp	r3, #53
 174 0066 05D9     		bls	.L11
 107:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             I2C_RT(i2c_periph) = I2CCLK_MAX;
 175              		.loc 1 107 13
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 6


 176 0068 FB68     		ldr	r3, [r7, #12]
 177 006a 2033     		adds	r3, r3, #32
 178 006c 1A46     		mov	r2, r3
 179              		.loc 1 107 32
 180 006e 3623     		movs	r3, #54
 181 0070 1360     		str	r3, [r2]
 182 0072 0DE0     		b	.L12
 183              	.L11:
 108:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }else if(risetime <= I2CCLK_MIN){
 184              		.loc 1 108 17
 185 0074 7B69     		ldr	r3, [r7, #20]
 186 0076 022B     		cmp	r3, #2
 187 0078 05D8     		bhi	.L13
 109:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             I2C_RT(i2c_periph) = I2CCLK_MIN;
 188              		.loc 1 109 13
 189 007a FB68     		ldr	r3, [r7, #12]
 190 007c 2033     		adds	r3, r3, #32
 191 007e 1A46     		mov	r2, r3
 192              		.loc 1 109 32
 193 0080 0223     		movs	r3, #2
 194 0082 1360     		str	r3, [r2]
 195 0084 04E0     		b	.L12
 196              	.L13:
 110:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }else{
 111:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             I2C_RT(i2c_periph) = risetime;
 197              		.loc 1 111 13
 198 0086 FB68     		ldr	r3, [r7, #12]
 199 0088 2033     		adds	r3, r3, #32
 200 008a 1A46     		mov	r2, r3
 201              		.loc 1 111 32
 202 008c 7B69     		ldr	r3, [r7, #20]
 203 008e 1360     		str	r3, [r2]
 204              	.L12:
 112:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }
 113:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         clkc = (uint32_t)(pclk1/(clkspeed*2U)); 
 205              		.loc 1 113 42
 206 0090 BB68     		ldr	r3, [r7, #8]
 207 0092 5B00     		lsls	r3, r3, #1
 208              		.loc 1 113 14
 209 0094 FA69     		ldr	r2, [r7, #28]
 210 0096 B2FBF3F3 		udiv	r3, r2, r3
 211 009a 7B62     		str	r3, [r7, #36]
 114:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         if(clkc < 0x04U){
 212              		.loc 1 114 11
 213 009c 7B6A     		ldr	r3, [r7, #36]
 214 009e 032B     		cmp	r3, #3
 215 00a0 01D8     		bhi	.L14
 115:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             /* the CLKC in standard mode minmum value is 4 */
 116:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             clkc = 0x04U;
 216              		.loc 1 116 18
 217 00a2 0423     		movs	r3, #4
 218 00a4 7B62     		str	r3, [r7, #36]
 219              	.L14:
 117:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }
 118:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_CKCFG(i2c_periph) |= (I2C_CKCFG_CLKC & clkc);
 220              		.loc 1 118 9
 221 00a6 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 7


 222 00a8 1C33     		adds	r3, r3, #28
 223 00aa 1A68     		ldr	r2, [r3]
 224              		.loc 1 118 50
 225 00ac 7B6A     		ldr	r3, [r7, #36]
 226 00ae C3F30B03 		ubfx	r3, r3, #0, #12
 227              		.loc 1 118 9
 228 00b2 F968     		ldr	r1, [r7, #12]
 229 00b4 1C31     		adds	r1, r1, #28
 230              		.loc 1 118 31
 231 00b6 1343     		orrs	r3, r3, r2
 232 00b8 0B60     		str	r3, [r1]
 119:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 120:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }else if(400000U >= clkspeed){
 121:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         /* the maximum SCL rise time is 300ns in fast mode */
 122:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_RT(i2c_periph) = (uint32_t)(((freq*(uint32_t)300U)/(uint32_t)1000U)+(uint32_t)1U);
 123:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         if(I2C_DTCY_2 == dutycyc){
 124:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             /* I2C duty cycle is 2 */
 125:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             clkc = (uint32_t)(pclk1/(clkspeed*3U));
 126:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             I2C_CKCFG(i2c_periph) &= ~I2C_CKCFG_DTCY;
 127:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }else{
 128:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             /* I2C duty cycle is 16/9 */
 129:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             clkc = (uint32_t)(pclk1/(clkspeed*25U));
 130:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             I2C_CKCFG(i2c_periph) |= I2C_CKCFG_DTCY;
 131:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }
 132:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         if(0U == (clkc & I2C_CKCFG_CLKC)){
 133:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             /* the CLKC in fast mode minmum value is 1 */
 134:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             clkc |= 0x0001U;  
 135:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }
 136:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_CKCFG(i2c_periph) |= I2C_CKCFG_FAST;
 137:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_CKCFG(i2c_periph) |= clkc;
 138:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }else{
 139:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 140:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 233              		.loc 1 140 1
 234 00ba 50E0     		b	.L19
 235              	.L10:
 120:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         /* the maximum SCL rise time is 300ns in fast mode */
 236              		.loc 1 120 13
 237 00bc BB68     		ldr	r3, [r7, #8]
 238 00be 2C4A     		ldr	r2, .L20+8
 239 00c0 9342     		cmp	r3, r2
 240 00c2 4CD8     		bhi	.L19
 122:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         if(I2C_DTCY_2 == dutycyc){
 241              		.loc 1 122 47
 242 00c4 3B6A     		ldr	r3, [r7, #32]
 243 00c6 4FF49672 		mov	r2, #300
 244 00ca 02FB03F3 		mul	r3, r2, r3
 122:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         if(I2C_DTCY_2 == dutycyc){
 245              		.loc 1 122 63
 246 00ce 294A     		ldr	r2, .L20+12
 247 00d0 A2FB0323 		umull	r2, r3, r2, r3
 248 00d4 9B09     		lsrs	r3, r3, #6
 122:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         if(I2C_DTCY_2 == dutycyc){
 249              		.loc 1 122 9
 250 00d6 FA68     		ldr	r2, [r7, #12]
 251 00d8 2032     		adds	r2, r2, #32
 122:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         if(I2C_DTCY_2 == dutycyc){
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 8


 252              		.loc 1 122 30
 253 00da 0133     		adds	r3, r3, #1
 122:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         if(I2C_DTCY_2 == dutycyc){
 254              		.loc 1 122 28
 255 00dc 1360     		str	r3, [r2]
 123:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             /* I2C duty cycle is 2 */
 256              		.loc 1 123 11
 257 00de 7B68     		ldr	r3, [r7, #4]
 258 00e0 002B     		cmp	r3, #0
 259 00e2 10D1     		bne	.L16
 125:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             I2C_CKCFG(i2c_periph) &= ~I2C_CKCFG_DTCY;
 260              		.loc 1 125 46
 261 00e4 BA68     		ldr	r2, [r7, #8]
 262 00e6 1346     		mov	r3, r2
 263 00e8 5B00     		lsls	r3, r3, #1
 264 00ea 1344     		add	r3, r3, r2
 125:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             I2C_CKCFG(i2c_periph) &= ~I2C_CKCFG_DTCY;
 265              		.loc 1 125 18
 266 00ec FA69     		ldr	r2, [r7, #28]
 267 00ee B2FBF3F3 		udiv	r3, r2, r3
 268 00f2 7B62     		str	r3, [r7, #36]
 126:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }else{
 269              		.loc 1 126 13
 270 00f4 FB68     		ldr	r3, [r7, #12]
 271 00f6 1C33     		adds	r3, r3, #28
 272 00f8 1B68     		ldr	r3, [r3]
 273 00fa FA68     		ldr	r2, [r7, #12]
 274 00fc 1C32     		adds	r2, r2, #28
 126:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }else{
 275              		.loc 1 126 35
 276 00fe 23F48043 		bic	r3, r3, #16384
 277 0102 1360     		str	r3, [r2]
 278 0104 11E0     		b	.L17
 279              	.L16:
 129:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             I2C_CKCFG(i2c_periph) |= I2C_CKCFG_DTCY;
 280              		.loc 1 129 46
 281 0106 BA68     		ldr	r2, [r7, #8]
 282 0108 1346     		mov	r3, r2
 283 010a 9B00     		lsls	r3, r3, #2
 284 010c 1344     		add	r3, r3, r2
 285 010e 9A00     		lsls	r2, r3, #2
 286 0110 1344     		add	r3, r3, r2
 129:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             I2C_CKCFG(i2c_periph) |= I2C_CKCFG_DTCY;
 287              		.loc 1 129 18
 288 0112 FA69     		ldr	r2, [r7, #28]
 289 0114 B2FBF3F3 		udiv	r3, r2, r3
 290 0118 7B62     		str	r3, [r7, #36]
 130:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }
 291              		.loc 1 130 13
 292 011a FB68     		ldr	r3, [r7, #12]
 293 011c 1C33     		adds	r3, r3, #28
 294 011e 1B68     		ldr	r3, [r3]
 295 0120 FA68     		ldr	r2, [r7, #12]
 296 0122 1C32     		adds	r2, r2, #28
 130:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }
 297              		.loc 1 130 35
 298 0124 43F48043 		orr	r3, r3, #16384
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 9


 299 0128 1360     		str	r3, [r2]
 300              	.L17:
 132:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             /* the CLKC in fast mode minmum value is 1 */
 301              		.loc 1 132 24
 302 012a 7B6A     		ldr	r3, [r7, #36]
 303 012c C3F30B03 		ubfx	r3, r3, #0, #12
 132:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             /* the CLKC in fast mode minmum value is 1 */
 304              		.loc 1 132 11
 305 0130 002B     		cmp	r3, #0
 306 0132 03D1     		bne	.L18
 134:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }
 307              		.loc 1 134 18
 308 0134 7B6A     		ldr	r3, [r7, #36]
 309 0136 43F00103 		orr	r3, r3, #1
 310 013a 7B62     		str	r3, [r7, #36]
 311              	.L18:
 136:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_CKCFG(i2c_periph) |= clkc;
 312              		.loc 1 136 9
 313 013c FB68     		ldr	r3, [r7, #12]
 314 013e 1C33     		adds	r3, r3, #28
 315 0140 1B68     		ldr	r3, [r3]
 316 0142 FA68     		ldr	r2, [r7, #12]
 317 0144 1C32     		adds	r2, r2, #28
 136:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_CKCFG(i2c_periph) |= clkc;
 318              		.loc 1 136 31
 319 0146 43F40043 		orr	r3, r3, #32768
 320 014a 1360     		str	r3, [r2]
 137:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }else{
 321              		.loc 1 137 9
 322 014c FB68     		ldr	r3, [r7, #12]
 323 014e 1C33     		adds	r3, r3, #28
 324 0150 1A68     		ldr	r2, [r3]
 325 0152 FB68     		ldr	r3, [r7, #12]
 326 0154 1C33     		adds	r3, r3, #28
 327 0156 1946     		mov	r1, r3
 137:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }else{
 328              		.loc 1 137 31
 329 0158 7B6A     		ldr	r3, [r7, #36]
 330 015a 1343     		orrs	r3, r3, r2
 331 015c 0B60     		str	r3, [r1]
 332              	.L19:
 333              		.loc 1 140 1
 334 015e 00BF     		nop
 335 0160 2837     		adds	r7, r7, #40
 336              	.LCFI8:
 337              		.cfi_def_cfa_offset 8
 338 0162 BD46     		mov	sp, r7
 339              	.LCFI9:
 340              		.cfi_def_cfa_register 13
 341              		@ sp needed
 342 0164 80BD     		pop	{r7, pc}
 343              	.L21:
 344 0166 00BF     		.align	2
 345              	.L20:
 346 0168 83DE1B43 		.word	1125899907
 347 016c A0860100 		.word	100000
 348 0170 801A0600 		.word	400000
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 10


 349 0174 D34D6210 		.word	274877907
 350              		.cfi_endproc
 351              	.LFE57:
 353              		.section	.text.i2c_mode_addr_config,"ax",%progbits
 354              		.align	1
 355              		.global	i2c_mode_addr_config
 356              		.syntax unified
 357              		.thumb
 358              		.thumb_func
 360              	i2c_mode_addr_config:
 361              	.LFB58:
 141:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 142:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 143:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      configure I2C address 
 144:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 145:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  mode:
 146:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 147:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_I2CMODE_ENABLE: I2C mode
 148:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_SMBUSMODE_ENABLE: SMBus mode
 149:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  addformat: 7bits or 10bits
 150:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 151:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_ADDFORMAT_7BITS: address format is 7bits
 152:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_ADDFORMAT_10BITS: address format is 10bits
 153:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  addr: I2C address
 154:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 155:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 156:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 157:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_mode_addr_config(uint32_t i2c_periph, uint32_t mode, uint32_t addformat, uint32_t addr)
 158:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 362              		.loc 1 158 1
 363              		.cfi_startproc
 364              		@ args = 0, pretend = 0, frame = 24
 365              		@ frame_needed = 1, uses_anonymous_args = 0
 366              		@ link register save eliminated.
 367 0000 80B4     		push	{r7}
 368              	.LCFI10:
 369              		.cfi_def_cfa_offset 4
 370              		.cfi_offset 7, -4
 371 0002 87B0     		sub	sp, sp, #28
 372              	.LCFI11:
 373              		.cfi_def_cfa_offset 32
 374 0004 00AF     		add	r7, sp, #0
 375              	.LCFI12:
 376              		.cfi_def_cfa_register 7
 377 0006 F860     		str	r0, [r7, #12]
 378 0008 B960     		str	r1, [r7, #8]
 379 000a 7A60     		str	r2, [r7, #4]
 380 000c 3B60     		str	r3, [r7]
 159:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* SMBus/I2C mode selected */
 160:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t ctl = 0U;
 381              		.loc 1 160 14
 382 000e 0023     		movs	r3, #0
 383 0010 7B61     		str	r3, [r7, #20]
 161:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 162:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl = I2C_CTL0(i2c_periph);
 384              		.loc 1 162 11
 385 0012 FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 11


 386              		.loc 1 162 9
 387 0014 1B68     		ldr	r3, [r3]
 388 0016 7B61     		str	r3, [r7, #20]
 163:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl &= ~(I2C_CTL0_SMBEN); 
 389              		.loc 1 163 9
 390 0018 7B69     		ldr	r3, [r7, #20]
 391 001a 23F00203 		bic	r3, r3, #2
 392 001e 7B61     		str	r3, [r7, #20]
 164:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl |= mode;
 393              		.loc 1 164 9
 394 0020 7A69     		ldr	r2, [r7, #20]
 395 0022 BB68     		ldr	r3, [r7, #8]
 396 0024 1343     		orrs	r3, r3, r2
 397 0026 7B61     		str	r3, [r7, #20]
 165:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) = ctl;
 398              		.loc 1 165 5
 399 0028 FB68     		ldr	r3, [r7, #12]
 400              		.loc 1 165 26
 401 002a 7A69     		ldr	r2, [r7, #20]
 402 002c 1A60     		str	r2, [r3]
 166:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* configure address */
 167:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     addr = addr & I2C_ADDRESS_MASK;
 403              		.loc 1 167 10
 404 002e 3B68     		ldr	r3, [r7]
 405 0030 C3F30903 		ubfx	r3, r3, #0, #10
 406 0034 3B60     		str	r3, [r7]
 168:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_SADDR0(i2c_periph) = (addformat | addr);
 407              		.loc 1 168 5
 408 0036 FB68     		ldr	r3, [r7, #12]
 409 0038 0833     		adds	r3, r3, #8
 410 003a 1946     		mov	r1, r3
 411              		.loc 1 168 41
 412 003c 7A68     		ldr	r2, [r7, #4]
 413 003e 3B68     		ldr	r3, [r7]
 414 0040 1343     		orrs	r3, r3, r2
 415              		.loc 1 168 28
 416 0042 0B60     		str	r3, [r1]
 169:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 417              		.loc 1 169 1
 418 0044 00BF     		nop
 419 0046 1C37     		adds	r7, r7, #28
 420              	.LCFI13:
 421              		.cfi_def_cfa_offset 4
 422 0048 BD46     		mov	sp, r7
 423              	.LCFI14:
 424              		.cfi_def_cfa_register 13
 425              		@ sp needed
 426 004a 80BC     		pop	{r7}
 427              	.LCFI15:
 428              		.cfi_restore 7
 429              		.cfi_def_cfa_offset 0
 430 004c 7047     		bx	lr
 431              		.cfi_endproc
 432              	.LFE58:
 434              		.section	.text.i2c_smbus_type_config,"ax",%progbits
 435              		.align	1
 436              		.global	i2c_smbus_type_config
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 12


 437              		.syntax unified
 438              		.thumb
 439              		.thumb_func
 441              	i2c_smbus_type_config:
 442              	.LFB59:
 170:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 171:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 172:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      select SMBus type
 173:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 174:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  type:
 175:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 176:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_SMBUS_DEVICE: device
 177:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_SMBUS_HOST: host
 178:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 179:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 180:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 181:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_smbus_type_config(uint32_t i2c_periph, uint32_t type)
 182:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 443              		.loc 1 182 1
 444              		.cfi_startproc
 445              		@ args = 0, pretend = 0, frame = 8
 446              		@ frame_needed = 1, uses_anonymous_args = 0
 447              		@ link register save eliminated.
 448 0000 80B4     		push	{r7}
 449              	.LCFI16:
 450              		.cfi_def_cfa_offset 4
 451              		.cfi_offset 7, -4
 452 0002 83B0     		sub	sp, sp, #12
 453              	.LCFI17:
 454              		.cfi_def_cfa_offset 16
 455 0004 00AF     		add	r7, sp, #0
 456              	.LCFI18:
 457              		.cfi_def_cfa_register 7
 458 0006 7860     		str	r0, [r7, #4]
 459 0008 3960     		str	r1, [r7]
 183:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     if(I2C_SMBUS_HOST == type){
 460              		.loc 1 183 7
 461 000a 3B68     		ldr	r3, [r7]
 462 000c 082B     		cmp	r3, #8
 463 000e 06D1     		bne	.L24
 184:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_CTL0(i2c_periph) |= I2C_CTL0_SMBSEL;
 464              		.loc 1 184 9
 465 0010 7B68     		ldr	r3, [r7, #4]
 466 0012 1A68     		ldr	r2, [r3]
 467 0014 7B68     		ldr	r3, [r7, #4]
 468              		.loc 1 184 30
 469 0016 42F00802 		orr	r2, r2, #8
 470 001a 1A60     		str	r2, [r3]
 185:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }else{
 186:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_CTL0(i2c_periph) &= ~(I2C_CTL0_SMBSEL);
 187:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 188:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 471              		.loc 1 188 1
 472 001c 05E0     		b	.L26
 473              	.L24:
 186:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 474              		.loc 1 186 9
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 13


 475 001e 7B68     		ldr	r3, [r7, #4]
 476 0020 1A68     		ldr	r2, [r3]
 477 0022 7B68     		ldr	r3, [r7, #4]
 186:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 478              		.loc 1 186 30
 479 0024 22F00802 		bic	r2, r2, #8
 480 0028 1A60     		str	r2, [r3]
 481              	.L26:
 482              		.loc 1 188 1
 483 002a 00BF     		nop
 484 002c 0C37     		adds	r7, r7, #12
 485              	.LCFI19:
 486              		.cfi_def_cfa_offset 4
 487 002e BD46     		mov	sp, r7
 488              	.LCFI20:
 489              		.cfi_def_cfa_register 13
 490              		@ sp needed
 491 0030 80BC     		pop	{r7}
 492              	.LCFI21:
 493              		.cfi_restore 7
 494              		.cfi_def_cfa_offset 0
 495 0032 7047     		bx	lr
 496              		.cfi_endproc
 497              	.LFE59:
 499              		.section	.text.i2c_ack_config,"ax",%progbits
 500              		.align	1
 501              		.global	i2c_ack_config
 502              		.syntax unified
 503              		.thumb
 504              		.thumb_func
 506              	i2c_ack_config:
 507              	.LFB60:
 189:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 190:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 191:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      whether or not to send an ACK
 192:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 193:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  ack:
 194:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 195:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_ACK_ENABLE: ACK will be sent
 196:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_ACK_DISABLE: ACK will not be sent
 197:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 198:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 199:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 200:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_ack_config(uint32_t i2c_periph, uint32_t ack)
 201:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 508              		.loc 1 201 1
 509              		.cfi_startproc
 510              		@ args = 0, pretend = 0, frame = 16
 511              		@ frame_needed = 1, uses_anonymous_args = 0
 512              		@ link register save eliminated.
 513 0000 80B4     		push	{r7}
 514              	.LCFI22:
 515              		.cfi_def_cfa_offset 4
 516              		.cfi_offset 7, -4
 517 0002 85B0     		sub	sp, sp, #20
 518              	.LCFI23:
 519              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 14


 520 0004 00AF     		add	r7, sp, #0
 521              	.LCFI24:
 522              		.cfi_def_cfa_register 7
 523 0006 7860     		str	r0, [r7, #4]
 524 0008 3960     		str	r1, [r7]
 202:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t ctl = 0U;
 525              		.loc 1 202 14
 526 000a 0023     		movs	r3, #0
 527 000c FB60     		str	r3, [r7, #12]
 203:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 204:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl = I2C_CTL0(i2c_periph);
 528              		.loc 1 204 11
 529 000e 7B68     		ldr	r3, [r7, #4]
 530              		.loc 1 204 9
 531 0010 1B68     		ldr	r3, [r3]
 532 0012 FB60     		str	r3, [r7, #12]
 205:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl &= ~(I2C_CTL0_ACKEN);
 533              		.loc 1 205 9
 534 0014 FB68     		ldr	r3, [r7, #12]
 535 0016 23F48063 		bic	r3, r3, #1024
 536 001a FB60     		str	r3, [r7, #12]
 206:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl |= ack;
 537              		.loc 1 206 9
 538 001c FA68     		ldr	r2, [r7, #12]
 539 001e 3B68     		ldr	r3, [r7]
 540 0020 1343     		orrs	r3, r3, r2
 541 0022 FB60     		str	r3, [r7, #12]
 207:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) = ctl;
 542              		.loc 1 207 5
 543 0024 7B68     		ldr	r3, [r7, #4]
 544              		.loc 1 207 26
 545 0026 FA68     		ldr	r2, [r7, #12]
 546 0028 1A60     		str	r2, [r3]
 208:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 547              		.loc 1 208 1
 548 002a 00BF     		nop
 549 002c 1437     		adds	r7, r7, #20
 550              	.LCFI25:
 551              		.cfi_def_cfa_offset 4
 552 002e BD46     		mov	sp, r7
 553              	.LCFI26:
 554              		.cfi_def_cfa_register 13
 555              		@ sp needed
 556 0030 80BC     		pop	{r7}
 557              	.LCFI27:
 558              		.cfi_restore 7
 559              		.cfi_def_cfa_offset 0
 560 0032 7047     		bx	lr
 561              		.cfi_endproc
 562              	.LFE60:
 564              		.section	.text.i2c_ackpos_config,"ax",%progbits
 565              		.align	1
 566              		.global	i2c_ackpos_config
 567              		.syntax unified
 568              		.thumb
 569              		.thumb_func
 571              	i2c_ackpos_config:
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 15


 572              	.LFB61:
 209:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 210:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 211:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      configure I2C POAP position
 212:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 213:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  pos:
 214:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 215:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_ACKPOS_CURRENT: ACKEN bit decides whether or not to send ACK or not for the c
 216:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_ACKPOS_NEXT: ACKEN bit decides whether or not to send ACK for the next byte
 217:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 218:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 219:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 220:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_ackpos_config(uint32_t i2c_periph, uint32_t pos)
 221:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 573              		.loc 1 221 1
 574              		.cfi_startproc
 575              		@ args = 0, pretend = 0, frame = 16
 576              		@ frame_needed = 1, uses_anonymous_args = 0
 577              		@ link register save eliminated.
 578 0000 80B4     		push	{r7}
 579              	.LCFI28:
 580              		.cfi_def_cfa_offset 4
 581              		.cfi_offset 7, -4
 582 0002 85B0     		sub	sp, sp, #20
 583              	.LCFI29:
 584              		.cfi_def_cfa_offset 24
 585 0004 00AF     		add	r7, sp, #0
 586              	.LCFI30:
 587              		.cfi_def_cfa_register 7
 588 0006 7860     		str	r0, [r7, #4]
 589 0008 3960     		str	r1, [r7]
 222:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t ctl = 0U;
 590              		.loc 1 222 14
 591 000a 0023     		movs	r3, #0
 592 000c FB60     		str	r3, [r7, #12]
 223:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* configure I2C POAP position */
 224:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl = I2C_CTL0(i2c_periph);
 593              		.loc 1 224 11
 594 000e 7B68     		ldr	r3, [r7, #4]
 595              		.loc 1 224 9
 596 0010 1B68     		ldr	r3, [r3]
 597 0012 FB60     		str	r3, [r7, #12]
 225:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl &= ~(I2C_CTL0_POAP);
 598              		.loc 1 225 9
 599 0014 FB68     		ldr	r3, [r7, #12]
 600 0016 23F40063 		bic	r3, r3, #2048
 601 001a FB60     		str	r3, [r7, #12]
 226:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl |= pos;
 602              		.loc 1 226 9
 603 001c FA68     		ldr	r2, [r7, #12]
 604 001e 3B68     		ldr	r3, [r7]
 605 0020 1343     		orrs	r3, r3, r2
 606 0022 FB60     		str	r3, [r7, #12]
 227:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) = ctl;
 607              		.loc 1 227 5
 608 0024 7B68     		ldr	r3, [r7, #4]
 609              		.loc 1 227 26
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 16


 610 0026 FA68     		ldr	r2, [r7, #12]
 611 0028 1A60     		str	r2, [r3]
 228:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 612              		.loc 1 228 1
 613 002a 00BF     		nop
 614 002c 1437     		adds	r7, r7, #20
 615              	.LCFI31:
 616              		.cfi_def_cfa_offset 4
 617 002e BD46     		mov	sp, r7
 618              	.LCFI32:
 619              		.cfi_def_cfa_register 13
 620              		@ sp needed
 621 0030 80BC     		pop	{r7}
 622              	.LCFI33:
 623              		.cfi_restore 7
 624              		.cfi_def_cfa_offset 0
 625 0032 7047     		bx	lr
 626              		.cfi_endproc
 627              	.LFE61:
 629              		.section	.text.i2c_master_addressing,"ax",%progbits
 630              		.align	1
 631              		.global	i2c_master_addressing
 632              		.syntax unified
 633              		.thumb
 634              		.thumb_func
 636              	i2c_master_addressing:
 637              	.LFB62:
 229:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 230:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 231:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      master sends slave address
 232:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 233:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  addr: slave address  
 234:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  trandirection: transmitter or receiver
 235:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 236:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_TRANSMITTER: transmitter  
 237:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_RECEIVER: receiver  
 238:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 239:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 240:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 241:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_master_addressing(uint32_t i2c_periph, uint32_t addr, uint32_t trandirection)
 242:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 638              		.loc 1 242 1
 639              		.cfi_startproc
 640              		@ args = 0, pretend = 0, frame = 16
 641              		@ frame_needed = 1, uses_anonymous_args = 0
 642              		@ link register save eliminated.
 643 0000 80B4     		push	{r7}
 644              	.LCFI34:
 645              		.cfi_def_cfa_offset 4
 646              		.cfi_offset 7, -4
 647 0002 85B0     		sub	sp, sp, #20
 648              	.LCFI35:
 649              		.cfi_def_cfa_offset 24
 650 0004 00AF     		add	r7, sp, #0
 651              	.LCFI36:
 652              		.cfi_def_cfa_register 7
 653 0006 F860     		str	r0, [r7, #12]
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 17


 654 0008 B960     		str	r1, [r7, #8]
 655 000a 7A60     		str	r2, [r7, #4]
 243:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* master is a transmitter or a receiver */
 244:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     if(I2C_TRANSMITTER == trandirection){
 656              		.loc 1 244 7
 657 000c 7B68     		ldr	r3, [r7, #4]
 658 000e 13F1020F 		cmn	r3, #2
 659 0012 04D1     		bne	.L30
 245:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         addr = addr & I2C_TRANSMITTER;
 660              		.loc 1 245 14
 661 0014 BB68     		ldr	r3, [r7, #8]
 662 0016 23F00103 		bic	r3, r3, #1
 663 001a BB60     		str	r3, [r7, #8]
 664 001c 03E0     		b	.L31
 665              	.L30:
 246:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }else{
 247:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         addr = addr | I2C_RECEIVER;
 666              		.loc 1 247 14
 667 001e BB68     		ldr	r3, [r7, #8]
 668 0020 43F00103 		orr	r3, r3, #1
 669 0024 BB60     		str	r3, [r7, #8]
 670              	.L31:
 248:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 249:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* send slave address */
 250:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_DATA(i2c_periph) = addr;
 671              		.loc 1 250 5
 672 0026 FB68     		ldr	r3, [r7, #12]
 673 0028 1033     		adds	r3, r3, #16
 674 002a 1A46     		mov	r2, r3
 675              		.loc 1 250 26
 676 002c BB68     		ldr	r3, [r7, #8]
 677 002e 1360     		str	r3, [r2]
 251:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 678              		.loc 1 251 1
 679 0030 00BF     		nop
 680 0032 1437     		adds	r7, r7, #20
 681              	.LCFI37:
 682              		.cfi_def_cfa_offset 4
 683 0034 BD46     		mov	sp, r7
 684              	.LCFI38:
 685              		.cfi_def_cfa_register 13
 686              		@ sp needed
 687 0036 80BC     		pop	{r7}
 688              	.LCFI39:
 689              		.cfi_restore 7
 690              		.cfi_def_cfa_offset 0
 691 0038 7047     		bx	lr
 692              		.cfi_endproc
 693              	.LFE62:
 695              		.section	.text.i2c_dualaddr_enable,"ax",%progbits
 696              		.align	1
 697              		.global	i2c_dualaddr_enable
 698              		.syntax unified
 699              		.thumb
 700              		.thumb_func
 702              	i2c_dualaddr_enable:
 703              	.LFB63:
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 18


 252:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 253:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 254:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      enable dual-address mode
 255:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 256:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  addr: the second address in dual-address mode
 257:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 258:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 259:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 260:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_dualaddr_enable(uint32_t i2c_periph, uint32_t addr)
 261:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 704              		.loc 1 261 1
 705              		.cfi_startproc
 706              		@ args = 0, pretend = 0, frame = 8
 707              		@ frame_needed = 1, uses_anonymous_args = 0
 708              		@ link register save eliminated.
 709 0000 80B4     		push	{r7}
 710              	.LCFI40:
 711              		.cfi_def_cfa_offset 4
 712              		.cfi_offset 7, -4
 713 0002 83B0     		sub	sp, sp, #12
 714              	.LCFI41:
 715              		.cfi_def_cfa_offset 16
 716 0004 00AF     		add	r7, sp, #0
 717              	.LCFI42:
 718              		.cfi_def_cfa_register 7
 719 0006 7860     		str	r0, [r7, #4]
 720 0008 3960     		str	r1, [r7]
 262:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* configure address */
 263:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     addr = addr & I2C_ADDRESS2_MASK;
 721              		.loc 1 263 10
 722 000a 3B68     		ldr	r3, [r7]
 723 000c 03F0FE03 		and	r3, r3, #254
 724 0010 3B60     		str	r3, [r7]
 264:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_SADDR1(i2c_periph) = (I2C_SADDR1_DUADEN | addr);
 725              		.loc 1 264 5
 726 0012 7B68     		ldr	r3, [r7, #4]
 727 0014 0C33     		adds	r3, r3, #12
 728 0016 1A46     		mov	r2, r3
 729              		.loc 1 264 49
 730 0018 3B68     		ldr	r3, [r7]
 731 001a 43F00103 		orr	r3, r3, #1
 732              		.loc 1 264 28
 733 001e 1360     		str	r3, [r2]
 265:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 734              		.loc 1 265 1
 735 0020 00BF     		nop
 736 0022 0C37     		adds	r7, r7, #12
 737              	.LCFI43:
 738              		.cfi_def_cfa_offset 4
 739 0024 BD46     		mov	sp, r7
 740              	.LCFI44:
 741              		.cfi_def_cfa_register 13
 742              		@ sp needed
 743 0026 80BC     		pop	{r7}
 744              	.LCFI45:
 745              		.cfi_restore 7
 746              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 19


 747 0028 7047     		bx	lr
 748              		.cfi_endproc
 749              	.LFE63:
 751              		.section	.text.i2c_dualaddr_disable,"ax",%progbits
 752              		.align	1
 753              		.global	i2c_dualaddr_disable
 754              		.syntax unified
 755              		.thumb
 756              		.thumb_func
 758              	i2c_dualaddr_disable:
 759              	.LFB64:
 266:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 267:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 268:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      disable dual-address mode
 269:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1) 
 270:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 271:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 272:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 273:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_dualaddr_disable(uint32_t i2c_periph)
 274:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 760              		.loc 1 274 1
 761              		.cfi_startproc
 762              		@ args = 0, pretend = 0, frame = 8
 763              		@ frame_needed = 1, uses_anonymous_args = 0
 764              		@ link register save eliminated.
 765 0000 80B4     		push	{r7}
 766              	.LCFI46:
 767              		.cfi_def_cfa_offset 4
 768              		.cfi_offset 7, -4
 769 0002 83B0     		sub	sp, sp, #12
 770              	.LCFI47:
 771              		.cfi_def_cfa_offset 16
 772 0004 00AF     		add	r7, sp, #0
 773              	.LCFI48:
 774              		.cfi_def_cfa_register 7
 775 0006 7860     		str	r0, [r7, #4]
 275:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_SADDR1(i2c_periph) &= ~(I2C_SADDR1_DUADEN);
 776              		.loc 1 275 5
 777 0008 7B68     		ldr	r3, [r7, #4]
 778 000a 0C33     		adds	r3, r3, #12
 779 000c 1B68     		ldr	r3, [r3]
 780 000e 7A68     		ldr	r2, [r7, #4]
 781 0010 0C32     		adds	r2, r2, #12
 782              		.loc 1 275 28
 783 0012 23F00103 		bic	r3, r3, #1
 784 0016 1360     		str	r3, [r2]
 276:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 785              		.loc 1 276 1
 786 0018 00BF     		nop
 787 001a 0C37     		adds	r7, r7, #12
 788              	.LCFI49:
 789              		.cfi_def_cfa_offset 4
 790 001c BD46     		mov	sp, r7
 791              	.LCFI50:
 792              		.cfi_def_cfa_register 13
 793              		@ sp needed
 794 001e 80BC     		pop	{r7}
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 20


 795              	.LCFI51:
 796              		.cfi_restore 7
 797              		.cfi_def_cfa_offset 0
 798 0020 7047     		bx	lr
 799              		.cfi_endproc
 800              	.LFE64:
 802              		.section	.text.i2c_enable,"ax",%progbits
 803              		.align	1
 804              		.global	i2c_enable
 805              		.syntax unified
 806              		.thumb
 807              		.thumb_func
 809              	i2c_enable:
 810              	.LFB65:
 277:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 278:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 279:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      enable I2C
 280:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1) 
 281:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 282:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 283:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 284:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_enable(uint32_t i2c_periph)
 285:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 811              		.loc 1 285 1
 812              		.cfi_startproc
 813              		@ args = 0, pretend = 0, frame = 8
 814              		@ frame_needed = 1, uses_anonymous_args = 0
 815              		@ link register save eliminated.
 816 0000 80B4     		push	{r7}
 817              	.LCFI52:
 818              		.cfi_def_cfa_offset 4
 819              		.cfi_offset 7, -4
 820 0002 83B0     		sub	sp, sp, #12
 821              	.LCFI53:
 822              		.cfi_def_cfa_offset 16
 823 0004 00AF     		add	r7, sp, #0
 824              	.LCFI54:
 825              		.cfi_def_cfa_register 7
 826 0006 7860     		str	r0, [r7, #4]
 286:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) |= I2C_CTL0_I2CEN;
 827              		.loc 1 286 5
 828 0008 7B68     		ldr	r3, [r7, #4]
 829 000a 1A68     		ldr	r2, [r3]
 830 000c 7B68     		ldr	r3, [r7, #4]
 831              		.loc 1 286 26
 832 000e 42F00102 		orr	r2, r2, #1
 833 0012 1A60     		str	r2, [r3]
 287:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 834              		.loc 1 287 1
 835 0014 00BF     		nop
 836 0016 0C37     		adds	r7, r7, #12
 837              	.LCFI55:
 838              		.cfi_def_cfa_offset 4
 839 0018 BD46     		mov	sp, r7
 840              	.LCFI56:
 841              		.cfi_def_cfa_register 13
 842              		@ sp needed
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 21


 843 001a 80BC     		pop	{r7}
 844              	.LCFI57:
 845              		.cfi_restore 7
 846              		.cfi_def_cfa_offset 0
 847 001c 7047     		bx	lr
 848              		.cfi_endproc
 849              	.LFE65:
 851              		.section	.text.i2c_disable,"ax",%progbits
 852              		.align	1
 853              		.global	i2c_disable
 854              		.syntax unified
 855              		.thumb
 856              		.thumb_func
 858              	i2c_disable:
 859              	.LFB66:
 288:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 289:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 290:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      disable I2C
 291:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1) 
 292:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 293:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 294:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 295:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_disable(uint32_t i2c_periph)
 296:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 860              		.loc 1 296 1
 861              		.cfi_startproc
 862              		@ args = 0, pretend = 0, frame = 8
 863              		@ frame_needed = 1, uses_anonymous_args = 0
 864              		@ link register save eliminated.
 865 0000 80B4     		push	{r7}
 866              	.LCFI58:
 867              		.cfi_def_cfa_offset 4
 868              		.cfi_offset 7, -4
 869 0002 83B0     		sub	sp, sp, #12
 870              	.LCFI59:
 871              		.cfi_def_cfa_offset 16
 872 0004 00AF     		add	r7, sp, #0
 873              	.LCFI60:
 874              		.cfi_def_cfa_register 7
 875 0006 7860     		str	r0, [r7, #4]
 297:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) &= ~(I2C_CTL0_I2CEN);
 876              		.loc 1 297 5
 877 0008 7B68     		ldr	r3, [r7, #4]
 878 000a 1A68     		ldr	r2, [r3]
 879 000c 7B68     		ldr	r3, [r7, #4]
 880              		.loc 1 297 26
 881 000e 22F00102 		bic	r2, r2, #1
 882 0012 1A60     		str	r2, [r3]
 298:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 883              		.loc 1 298 1
 884 0014 00BF     		nop
 885 0016 0C37     		adds	r7, r7, #12
 886              	.LCFI61:
 887              		.cfi_def_cfa_offset 4
 888 0018 BD46     		mov	sp, r7
 889              	.LCFI62:
 890              		.cfi_def_cfa_register 13
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 22


 891              		@ sp needed
 892 001a 80BC     		pop	{r7}
 893              	.LCFI63:
 894              		.cfi_restore 7
 895              		.cfi_def_cfa_offset 0
 896 001c 7047     		bx	lr
 897              		.cfi_endproc
 898              	.LFE66:
 900              		.section	.text.i2c_start_on_bus,"ax",%progbits
 901              		.align	1
 902              		.global	i2c_start_on_bus
 903              		.syntax unified
 904              		.thumb
 905              		.thumb_func
 907              	i2c_start_on_bus:
 908              	.LFB67:
 299:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 300:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 301:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      generate a START condition on I2C bus
 302:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 303:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 304:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 305:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 306:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_start_on_bus(uint32_t i2c_periph)
 307:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 909              		.loc 1 307 1
 910              		.cfi_startproc
 911              		@ args = 0, pretend = 0, frame = 8
 912              		@ frame_needed = 1, uses_anonymous_args = 0
 913              		@ link register save eliminated.
 914 0000 80B4     		push	{r7}
 915              	.LCFI64:
 916              		.cfi_def_cfa_offset 4
 917              		.cfi_offset 7, -4
 918 0002 83B0     		sub	sp, sp, #12
 919              	.LCFI65:
 920              		.cfi_def_cfa_offset 16
 921 0004 00AF     		add	r7, sp, #0
 922              	.LCFI66:
 923              		.cfi_def_cfa_register 7
 924 0006 7860     		str	r0, [r7, #4]
 308:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) |= I2C_CTL0_START;
 925              		.loc 1 308 5
 926 0008 7B68     		ldr	r3, [r7, #4]
 927 000a 1A68     		ldr	r2, [r3]
 928 000c 7B68     		ldr	r3, [r7, #4]
 929              		.loc 1 308 26
 930 000e 42F48072 		orr	r2, r2, #256
 931 0012 1A60     		str	r2, [r3]
 309:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 932              		.loc 1 309 1
 933 0014 00BF     		nop
 934 0016 0C37     		adds	r7, r7, #12
 935              	.LCFI67:
 936              		.cfi_def_cfa_offset 4
 937 0018 BD46     		mov	sp, r7
 938              	.LCFI68:
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 23


 939              		.cfi_def_cfa_register 13
 940              		@ sp needed
 941 001a 80BC     		pop	{r7}
 942              	.LCFI69:
 943              		.cfi_restore 7
 944              		.cfi_def_cfa_offset 0
 945 001c 7047     		bx	lr
 946              		.cfi_endproc
 947              	.LFE67:
 949              		.section	.text.i2c_stop_on_bus,"ax",%progbits
 950              		.align	1
 951              		.global	i2c_stop_on_bus
 952              		.syntax unified
 953              		.thumb
 954              		.thumb_func
 956              	i2c_stop_on_bus:
 957              	.LFB68:
 310:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 311:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 312:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      generate a STOP condition on I2C bus
 313:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 314:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 315:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 316:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 317:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_stop_on_bus(uint32_t i2c_periph)
 318:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 958              		.loc 1 318 1
 959              		.cfi_startproc
 960              		@ args = 0, pretend = 0, frame = 8
 961              		@ frame_needed = 1, uses_anonymous_args = 0
 962              		@ link register save eliminated.
 963 0000 80B4     		push	{r7}
 964              	.LCFI70:
 965              		.cfi_def_cfa_offset 4
 966              		.cfi_offset 7, -4
 967 0002 83B0     		sub	sp, sp, #12
 968              	.LCFI71:
 969              		.cfi_def_cfa_offset 16
 970 0004 00AF     		add	r7, sp, #0
 971              	.LCFI72:
 972              		.cfi_def_cfa_register 7
 973 0006 7860     		str	r0, [r7, #4]
 319:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) |= I2C_CTL0_STOP;
 974              		.loc 1 319 5
 975 0008 7B68     		ldr	r3, [r7, #4]
 976 000a 1A68     		ldr	r2, [r3]
 977 000c 7B68     		ldr	r3, [r7, #4]
 978              		.loc 1 319 26
 979 000e 42F40072 		orr	r2, r2, #512
 980 0012 1A60     		str	r2, [r3]
 320:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 981              		.loc 1 320 1
 982 0014 00BF     		nop
 983 0016 0C37     		adds	r7, r7, #12
 984              	.LCFI73:
 985              		.cfi_def_cfa_offset 4
 986 0018 BD46     		mov	sp, r7
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 24


 987              	.LCFI74:
 988              		.cfi_def_cfa_register 13
 989              		@ sp needed
 990 001a 80BC     		pop	{r7}
 991              	.LCFI75:
 992              		.cfi_restore 7
 993              		.cfi_def_cfa_offset 0
 994 001c 7047     		bx	lr
 995              		.cfi_endproc
 996              	.LFE68:
 998              		.section	.text.i2c_data_transmit,"ax",%progbits
 999              		.align	1
 1000              		.global	i2c_data_transmit
 1001              		.syntax unified
 1002              		.thumb
 1003              		.thumb_func
 1005              	i2c_data_transmit:
 1006              	.LFB69:
 321:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 322:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 323:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      I2C transmit data function
 324:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 325:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  data: data of transmission 
 326:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 327:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 328:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 329:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_data_transmit(uint32_t i2c_periph, uint8_t data)
 330:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1007              		.loc 1 330 1
 1008              		.cfi_startproc
 1009              		@ args = 0, pretend = 0, frame = 8
 1010              		@ frame_needed = 1, uses_anonymous_args = 0
 1011              		@ link register save eliminated.
 1012 0000 80B4     		push	{r7}
 1013              	.LCFI76:
 1014              		.cfi_def_cfa_offset 4
 1015              		.cfi_offset 7, -4
 1016 0002 83B0     		sub	sp, sp, #12
 1017              	.LCFI77:
 1018              		.cfi_def_cfa_offset 16
 1019 0004 00AF     		add	r7, sp, #0
 1020              	.LCFI78:
 1021              		.cfi_def_cfa_register 7
 1022 0006 7860     		str	r0, [r7, #4]
 1023 0008 0B46     		mov	r3, r1
 1024 000a FB70     		strb	r3, [r7, #3]
 331:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_DATA(i2c_periph) = DATA_TRANS(data);
 1025              		.loc 1 331 5
 1026 000c 7B68     		ldr	r3, [r7, #4]
 1027 000e 1033     		adds	r3, r3, #16
 1028 0010 1A46     		mov	r2, r3
 1029              		.loc 1 331 28
 1030 0012 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1031              		.loc 1 331 26
 1032 0014 1360     		str	r3, [r2]
 332:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1033              		.loc 1 332 1
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 25


 1034 0016 00BF     		nop
 1035 0018 0C37     		adds	r7, r7, #12
 1036              	.LCFI79:
 1037              		.cfi_def_cfa_offset 4
 1038 001a BD46     		mov	sp, r7
 1039              	.LCFI80:
 1040              		.cfi_def_cfa_register 13
 1041              		@ sp needed
 1042 001c 80BC     		pop	{r7}
 1043              	.LCFI81:
 1044              		.cfi_restore 7
 1045              		.cfi_def_cfa_offset 0
 1046 001e 7047     		bx	lr
 1047              		.cfi_endproc
 1048              	.LFE69:
 1050              		.section	.text.i2c_data_receive,"ax",%progbits
 1051              		.align	1
 1052              		.global	i2c_data_receive
 1053              		.syntax unified
 1054              		.thumb
 1055              		.thumb_func
 1057              	i2c_data_receive:
 1058              	.LFB70:
 333:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 334:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 335:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      I2C receive data function
 336:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 337:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 338:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     data of received
 339:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 340:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** uint8_t i2c_data_receive(uint32_t i2c_periph)
 341:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1059              		.loc 1 341 1
 1060              		.cfi_startproc
 1061              		@ args = 0, pretend = 0, frame = 8
 1062              		@ frame_needed = 1, uses_anonymous_args = 0
 1063              		@ link register save eliminated.
 1064 0000 80B4     		push	{r7}
 1065              	.LCFI82:
 1066              		.cfi_def_cfa_offset 4
 1067              		.cfi_offset 7, -4
 1068 0002 83B0     		sub	sp, sp, #12
 1069              	.LCFI83:
 1070              		.cfi_def_cfa_offset 16
 1071 0004 00AF     		add	r7, sp, #0
 1072              	.LCFI84:
 1073              		.cfi_def_cfa_register 7
 1074 0006 7860     		str	r0, [r7, #4]
 342:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     return (uint8_t)DATA_RECV(I2C_DATA(i2c_periph));
 1075              		.loc 1 342 21
 1076 0008 7B68     		ldr	r3, [r7, #4]
 1077 000a 1033     		adds	r3, r3, #16
 1078 000c 1B68     		ldr	r3, [r3]
 1079              		.loc 1 342 12
 1080 000e DBB2     		uxtb	r3, r3
 343:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1081              		.loc 1 343 1
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 26


 1082 0010 1846     		mov	r0, r3
 1083 0012 0C37     		adds	r7, r7, #12
 1084              	.LCFI85:
 1085              		.cfi_def_cfa_offset 4
 1086 0014 BD46     		mov	sp, r7
 1087              	.LCFI86:
 1088              		.cfi_def_cfa_register 13
 1089              		@ sp needed
 1090 0016 80BC     		pop	{r7}
 1091              	.LCFI87:
 1092              		.cfi_restore 7
 1093              		.cfi_def_cfa_offset 0
 1094 0018 7047     		bx	lr
 1095              		.cfi_endproc
 1096              	.LFE70:
 1098              		.section	.text.i2c_dma_config,"ax",%progbits
 1099              		.align	1
 1100              		.global	i2c_dma_config
 1101              		.syntax unified
 1102              		.thumb
 1103              		.thumb_func
 1105              	i2c_dma_config:
 1106              	.LFB71:
 344:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 345:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 346:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      configure I2C DMA mode
 347:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 348:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  dmastate:
 349:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 350:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_DMA_ON: enable DMA mode
 351:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_DMA_OFF: disable DMA mode
 352:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 353:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 354:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 355:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_dma_config(uint32_t i2c_periph, uint32_t dmastate)
 356:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1107              		.loc 1 356 1
 1108              		.cfi_startproc
 1109              		@ args = 0, pretend = 0, frame = 16
 1110              		@ frame_needed = 1, uses_anonymous_args = 0
 1111              		@ link register save eliminated.
 1112 0000 80B4     		push	{r7}
 1113              	.LCFI88:
 1114              		.cfi_def_cfa_offset 4
 1115              		.cfi_offset 7, -4
 1116 0002 85B0     		sub	sp, sp, #20
 1117              	.LCFI89:
 1118              		.cfi_def_cfa_offset 24
 1119 0004 00AF     		add	r7, sp, #0
 1120              	.LCFI90:
 1121              		.cfi_def_cfa_register 7
 1122 0006 7860     		str	r0, [r7, #4]
 1123 0008 3960     		str	r1, [r7]
 357:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* configure I2C DMA function */
 358:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t ctl = 0U;
 1124              		.loc 1 358 14
 1125 000a 0023     		movs	r3, #0
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 27


 1126 000c FB60     		str	r3, [r7, #12]
 359:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 360:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl = I2C_CTL1(i2c_periph);
 1127              		.loc 1 360 11
 1128 000e 7B68     		ldr	r3, [r7, #4]
 1129 0010 0433     		adds	r3, r3, #4
 1130              		.loc 1 360 9
 1131 0012 1B68     		ldr	r3, [r3]
 1132 0014 FB60     		str	r3, [r7, #12]
 361:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl &= ~(I2C_CTL1_DMAON); 
 1133              		.loc 1 361 9
 1134 0016 FB68     		ldr	r3, [r7, #12]
 1135 0018 23F40063 		bic	r3, r3, #2048
 1136 001c FB60     		str	r3, [r7, #12]
 362:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl |= dmastate;
 1137              		.loc 1 362 9
 1138 001e FA68     		ldr	r2, [r7, #12]
 1139 0020 3B68     		ldr	r3, [r7]
 1140 0022 1343     		orrs	r3, r3, r2
 1141 0024 FB60     		str	r3, [r7, #12]
 363:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL1(i2c_periph) = ctl;
 1142              		.loc 1 363 5
 1143 0026 7B68     		ldr	r3, [r7, #4]
 1144 0028 0433     		adds	r3, r3, #4
 1145 002a 1A46     		mov	r2, r3
 1146              		.loc 1 363 26
 1147 002c FB68     		ldr	r3, [r7, #12]
 1148 002e 1360     		str	r3, [r2]
 364:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1149              		.loc 1 364 1
 1150 0030 00BF     		nop
 1151 0032 1437     		adds	r7, r7, #20
 1152              	.LCFI91:
 1153              		.cfi_def_cfa_offset 4
 1154 0034 BD46     		mov	sp, r7
 1155              	.LCFI92:
 1156              		.cfi_def_cfa_register 13
 1157              		@ sp needed
 1158 0036 80BC     		pop	{r7}
 1159              	.LCFI93:
 1160              		.cfi_restore 7
 1161              		.cfi_def_cfa_offset 0
 1162 0038 7047     		bx	lr
 1163              		.cfi_endproc
 1164              	.LFE71:
 1166              		.section	.text.i2c_dma_last_transfer_config,"ax",%progbits
 1167              		.align	1
 1168              		.global	i2c_dma_last_transfer_config
 1169              		.syntax unified
 1170              		.thumb
 1171              		.thumb_func
 1173              	i2c_dma_last_transfer_config:
 1174              	.LFB72:
 365:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 366:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 367:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      configure whether next DMA EOT is DMA last transfer or not
 368:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 28


 369:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  dmalast:
 370:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 371:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_DMALST_ON: next DMA EOT is the last transfer
 372:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_DMALST_OFF: next DMA EOT is not the last transfer
 373:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 374:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 375:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 376:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_dma_last_transfer_config(uint32_t i2c_periph, uint32_t dmalast)
 377:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1175              		.loc 1 377 1
 1176              		.cfi_startproc
 1177              		@ args = 0, pretend = 0, frame = 16
 1178              		@ frame_needed = 1, uses_anonymous_args = 0
 1179              		@ link register save eliminated.
 1180 0000 80B4     		push	{r7}
 1181              	.LCFI94:
 1182              		.cfi_def_cfa_offset 4
 1183              		.cfi_offset 7, -4
 1184 0002 85B0     		sub	sp, sp, #20
 1185              	.LCFI95:
 1186              		.cfi_def_cfa_offset 24
 1187 0004 00AF     		add	r7, sp, #0
 1188              	.LCFI96:
 1189              		.cfi_def_cfa_register 7
 1190 0006 7860     		str	r0, [r7, #4]
 1191 0008 3960     		str	r1, [r7]
 378:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* configure DMA last transfer */
 379:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t ctl = 0U;
 1192              		.loc 1 379 14
 1193 000a 0023     		movs	r3, #0
 1194 000c FB60     		str	r3, [r7, #12]
 380:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 381:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl = I2C_CTL1(i2c_periph);
 1195              		.loc 1 381 11
 1196 000e 7B68     		ldr	r3, [r7, #4]
 1197 0010 0433     		adds	r3, r3, #4
 1198              		.loc 1 381 9
 1199 0012 1B68     		ldr	r3, [r3]
 1200 0014 FB60     		str	r3, [r7, #12]
 382:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl &= ~(I2C_CTL1_DMALST); 
 1201              		.loc 1 382 9
 1202 0016 FB68     		ldr	r3, [r7, #12]
 1203 0018 23F48053 		bic	r3, r3, #4096
 1204 001c FB60     		str	r3, [r7, #12]
 383:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl |= dmalast;
 1205              		.loc 1 383 9
 1206 001e FA68     		ldr	r2, [r7, #12]
 1207 0020 3B68     		ldr	r3, [r7]
 1208 0022 1343     		orrs	r3, r3, r2
 1209 0024 FB60     		str	r3, [r7, #12]
 384:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL1(i2c_periph) = ctl;
 1210              		.loc 1 384 5
 1211 0026 7B68     		ldr	r3, [r7, #4]
 1212 0028 0433     		adds	r3, r3, #4
 1213 002a 1A46     		mov	r2, r3
 1214              		.loc 1 384 26
 1215 002c FB68     		ldr	r3, [r7, #12]
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 29


 1216 002e 1360     		str	r3, [r2]
 385:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1217              		.loc 1 385 1
 1218 0030 00BF     		nop
 1219 0032 1437     		adds	r7, r7, #20
 1220              	.LCFI97:
 1221              		.cfi_def_cfa_offset 4
 1222 0034 BD46     		mov	sp, r7
 1223              	.LCFI98:
 1224              		.cfi_def_cfa_register 13
 1225              		@ sp needed
 1226 0036 80BC     		pop	{r7}
 1227              	.LCFI99:
 1228              		.cfi_restore 7
 1229              		.cfi_def_cfa_offset 0
 1230 0038 7047     		bx	lr
 1231              		.cfi_endproc
 1232              	.LFE72:
 1234              		.section	.text.i2c_stretch_scl_low_config,"ax",%progbits
 1235              		.align	1
 1236              		.global	i2c_stretch_scl_low_config
 1237              		.syntax unified
 1238              		.thumb
 1239              		.thumb_func
 1241              	i2c_stretch_scl_low_config:
 1242              	.LFB73:
 386:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 387:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 388:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      whether to stretch SCL low when data is not ready in slave mode
 389:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 390:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  stretchpara:
 391:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 392:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_SCLSTRETCH_ENABLE: enable SCL stretching
 393:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_SCLSTRETCH_DISABLE: disable SCL stretching
 394:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 395:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 396:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 397:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_stretch_scl_low_config(uint32_t i2c_periph, uint32_t stretchpara)
 398:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1243              		.loc 1 398 1
 1244              		.cfi_startproc
 1245              		@ args = 0, pretend = 0, frame = 16
 1246              		@ frame_needed = 1, uses_anonymous_args = 0
 1247              		@ link register save eliminated.
 1248 0000 80B4     		push	{r7}
 1249              	.LCFI100:
 1250              		.cfi_def_cfa_offset 4
 1251              		.cfi_offset 7, -4
 1252 0002 85B0     		sub	sp, sp, #20
 1253              	.LCFI101:
 1254              		.cfi_def_cfa_offset 24
 1255 0004 00AF     		add	r7, sp, #0
 1256              	.LCFI102:
 1257              		.cfi_def_cfa_register 7
 1258 0006 7860     		str	r0, [r7, #4]
 1259 0008 3960     		str	r1, [r7]
 399:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* configure I2C SCL strerching */
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 30


 400:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t ctl = 0U;
 1260              		.loc 1 400 14
 1261 000a 0023     		movs	r3, #0
 1262 000c FB60     		str	r3, [r7, #12]
 401:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 402:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl = I2C_CTL0(i2c_periph);
 1263              		.loc 1 402 11
 1264 000e 7B68     		ldr	r3, [r7, #4]
 1265              		.loc 1 402 9
 1266 0010 1B68     		ldr	r3, [r3]
 1267 0012 FB60     		str	r3, [r7, #12]
 403:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl &= ~(I2C_CTL0_SS); 
 1268              		.loc 1 403 9
 1269 0014 FB68     		ldr	r3, [r7, #12]
 1270 0016 23F08003 		bic	r3, r3, #128
 1271 001a FB60     		str	r3, [r7, #12]
 404:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl |= stretchpara;
 1272              		.loc 1 404 9
 1273 001c FA68     		ldr	r2, [r7, #12]
 1274 001e 3B68     		ldr	r3, [r7]
 1275 0020 1343     		orrs	r3, r3, r2
 1276 0022 FB60     		str	r3, [r7, #12]
 405:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) = ctl;
 1277              		.loc 1 405 5
 1278 0024 7B68     		ldr	r3, [r7, #4]
 1279              		.loc 1 405 26
 1280 0026 FA68     		ldr	r2, [r7, #12]
 1281 0028 1A60     		str	r2, [r3]
 406:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1282              		.loc 1 406 1
 1283 002a 00BF     		nop
 1284 002c 1437     		adds	r7, r7, #20
 1285              	.LCFI103:
 1286              		.cfi_def_cfa_offset 4
 1287 002e BD46     		mov	sp, r7
 1288              	.LCFI104:
 1289              		.cfi_def_cfa_register 13
 1290              		@ sp needed
 1291 0030 80BC     		pop	{r7}
 1292              	.LCFI105:
 1293              		.cfi_restore 7
 1294              		.cfi_def_cfa_offset 0
 1295 0032 7047     		bx	lr
 1296              		.cfi_endproc
 1297              	.LFE73:
 1299              		.section	.text.i2c_slave_response_to_gcall_config,"ax",%progbits
 1300              		.align	1
 1301              		.global	i2c_slave_response_to_gcall_config
 1302              		.syntax unified
 1303              		.thumb
 1304              		.thumb_func
 1306              	i2c_slave_response_to_gcall_config:
 1307              	.LFB74:
 407:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 408:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 409:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      whether or not to response to a general call
 410:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 31


 411:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  gcallpara:
 412:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 413:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_GCEN_ENABLE: slave will response to a general call
 414:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_GCEN_DISABLE: slave will not response to a general call
 415:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 416:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 417:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 418:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_slave_response_to_gcall_config(uint32_t i2c_periph, uint32_t gcallpara)
 419:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1308              		.loc 1 419 1
 1309              		.cfi_startproc
 1310              		@ args = 0, pretend = 0, frame = 16
 1311              		@ frame_needed = 1, uses_anonymous_args = 0
 1312              		@ link register save eliminated.
 1313 0000 80B4     		push	{r7}
 1314              	.LCFI106:
 1315              		.cfi_def_cfa_offset 4
 1316              		.cfi_offset 7, -4
 1317 0002 85B0     		sub	sp, sp, #20
 1318              	.LCFI107:
 1319              		.cfi_def_cfa_offset 24
 1320 0004 00AF     		add	r7, sp, #0
 1321              	.LCFI108:
 1322              		.cfi_def_cfa_register 7
 1323 0006 7860     		str	r0, [r7, #4]
 1324 0008 3960     		str	r1, [r7]
 420:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* configure slave response to a general call enable or disable */
 421:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t ctl = 0U;
 1325              		.loc 1 421 14
 1326 000a 0023     		movs	r3, #0
 1327 000c FB60     		str	r3, [r7, #12]
 422:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 423:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl = I2C_CTL0(i2c_periph);
 1328              		.loc 1 423 11
 1329 000e 7B68     		ldr	r3, [r7, #4]
 1330              		.loc 1 423 9
 1331 0010 1B68     		ldr	r3, [r3]
 1332 0012 FB60     		str	r3, [r7, #12]
 424:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl &= ~(I2C_CTL0_GCEN); 
 1333              		.loc 1 424 9
 1334 0014 FB68     		ldr	r3, [r7, #12]
 1335 0016 23F04003 		bic	r3, r3, #64
 1336 001a FB60     		str	r3, [r7, #12]
 425:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl |= gcallpara;
 1337              		.loc 1 425 9
 1338 001c FA68     		ldr	r2, [r7, #12]
 1339 001e 3B68     		ldr	r3, [r7]
 1340 0020 1343     		orrs	r3, r3, r2
 1341 0022 FB60     		str	r3, [r7, #12]
 426:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) = ctl;
 1342              		.loc 1 426 5
 1343 0024 7B68     		ldr	r3, [r7, #4]
 1344              		.loc 1 426 26
 1345 0026 FA68     		ldr	r2, [r7, #12]
 1346 0028 1A60     		str	r2, [r3]
 427:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1347              		.loc 1 427 1
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 32


 1348 002a 00BF     		nop
 1349 002c 1437     		adds	r7, r7, #20
 1350              	.LCFI109:
 1351              		.cfi_def_cfa_offset 4
 1352 002e BD46     		mov	sp, r7
 1353              	.LCFI110:
 1354              		.cfi_def_cfa_register 13
 1355              		@ sp needed
 1356 0030 80BC     		pop	{r7}
 1357              	.LCFI111:
 1358              		.cfi_restore 7
 1359              		.cfi_def_cfa_offset 0
 1360 0032 7047     		bx	lr
 1361              		.cfi_endproc
 1362              	.LFE74:
 1364              		.section	.text.i2c_software_reset_config,"ax",%progbits
 1365              		.align	1
 1366              		.global	i2c_software_reset_config
 1367              		.syntax unified
 1368              		.thumb
 1369              		.thumb_func
 1371              	i2c_software_reset_config:
 1372              	.LFB75:
 428:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 429:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 430:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      configure software reset of I2C
 431:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 432:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  sreset:
 433:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 434:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_SRESET_SET: I2C is under reset
 435:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_SRESET_RESET: I2C is not under reset
 436:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 437:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 438:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 439:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_software_reset_config(uint32_t i2c_periph, uint32_t sreset)
 440:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1373              		.loc 1 440 1
 1374              		.cfi_startproc
 1375              		@ args = 0, pretend = 0, frame = 16
 1376              		@ frame_needed = 1, uses_anonymous_args = 0
 1377              		@ link register save eliminated.
 1378 0000 80B4     		push	{r7}
 1379              	.LCFI112:
 1380              		.cfi_def_cfa_offset 4
 1381              		.cfi_offset 7, -4
 1382 0002 85B0     		sub	sp, sp, #20
 1383              	.LCFI113:
 1384              		.cfi_def_cfa_offset 24
 1385 0004 00AF     		add	r7, sp, #0
 1386              	.LCFI114:
 1387              		.cfi_def_cfa_register 7
 1388 0006 7860     		str	r0, [r7, #4]
 1389 0008 3960     		str	r1, [r7]
 441:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* modify CTL0 and configure software reset I2C state */
 442:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t ctl = 0U;
 1390              		.loc 1 442 14
 1391 000a 0023     		movs	r3, #0
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 33


 1392 000c FB60     		str	r3, [r7, #12]
 443:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 444:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl = I2C_CTL0(i2c_periph);
 1393              		.loc 1 444 11
 1394 000e 7B68     		ldr	r3, [r7, #4]
 1395              		.loc 1 444 9
 1396 0010 1B68     		ldr	r3, [r3]
 1397 0012 FB60     		str	r3, [r7, #12]
 445:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl &= ~(I2C_CTL0_SRESET); 
 1398              		.loc 1 445 9
 1399 0014 FB68     		ldr	r3, [r7, #12]
 1400 0016 23F40043 		bic	r3, r3, #32768
 1401 001a FB60     		str	r3, [r7, #12]
 446:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl |= sreset;
 1402              		.loc 1 446 9
 1403 001c FA68     		ldr	r2, [r7, #12]
 1404 001e 3B68     		ldr	r3, [r7]
 1405 0020 1343     		orrs	r3, r3, r2
 1406 0022 FB60     		str	r3, [r7, #12]
 447:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) = ctl;
 1407              		.loc 1 447 5
 1408 0024 7B68     		ldr	r3, [r7, #4]
 1409              		.loc 1 447 26
 1410 0026 FA68     		ldr	r2, [r7, #12]
 1411 0028 1A60     		str	r2, [r3]
 448:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1412              		.loc 1 448 1
 1413 002a 00BF     		nop
 1414 002c 1437     		adds	r7, r7, #20
 1415              	.LCFI115:
 1416              		.cfi_def_cfa_offset 4
 1417 002e BD46     		mov	sp, r7
 1418              	.LCFI116:
 1419              		.cfi_def_cfa_register 13
 1420              		@ sp needed
 1421 0030 80BC     		pop	{r7}
 1422              	.LCFI117:
 1423              		.cfi_restore 7
 1424              		.cfi_def_cfa_offset 0
 1425 0032 7047     		bx	lr
 1426              		.cfi_endproc
 1427              	.LFE75:
 1429              		.section	.text.i2c_pec_config,"ax",%progbits
 1430              		.align	1
 1431              		.global	i2c_pec_config
 1432              		.syntax unified
 1433              		.thumb
 1434              		.thumb_func
 1436              	i2c_pec_config:
 1437              	.LFB76:
 449:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 450:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 451:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      configure I2C PEC calculation
 452:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 453:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  pecstate:
 454:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 455:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_PEC_ENABLE: PEC calculation on 
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 34


 456:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_PEC_DISABLE: PEC calculation off 
 457:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 458:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 459:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 460:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_pec_config(uint32_t i2c_periph, uint32_t pecstate)
 461:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1438              		.loc 1 461 1
 1439              		.cfi_startproc
 1440              		@ args = 0, pretend = 0, frame = 16
 1441              		@ frame_needed = 1, uses_anonymous_args = 0
 1442              		@ link register save eliminated.
 1443 0000 80B4     		push	{r7}
 1444              	.LCFI118:
 1445              		.cfi_def_cfa_offset 4
 1446              		.cfi_offset 7, -4
 1447 0002 85B0     		sub	sp, sp, #20
 1448              	.LCFI119:
 1449              		.cfi_def_cfa_offset 24
 1450 0004 00AF     		add	r7, sp, #0
 1451              	.LCFI120:
 1452              		.cfi_def_cfa_register 7
 1453 0006 7860     		str	r0, [r7, #4]
 1454 0008 3960     		str	r1, [r7]
 462:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* on/off PEC calculation */
 463:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t ctl = 0U;
 1455              		.loc 1 463 14
 1456 000a 0023     		movs	r3, #0
 1457 000c FB60     		str	r3, [r7, #12]
 464:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 465:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl = I2C_CTL0(i2c_periph);
 1458              		.loc 1 465 11
 1459 000e 7B68     		ldr	r3, [r7, #4]
 1460              		.loc 1 465 9
 1461 0010 1B68     		ldr	r3, [r3]
 1462 0012 FB60     		str	r3, [r7, #12]
 466:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl &= ~(I2C_CTL0_PECEN);
 1463              		.loc 1 466 9
 1464 0014 FB68     		ldr	r3, [r7, #12]
 1465 0016 23F02003 		bic	r3, r3, #32
 1466 001a FB60     		str	r3, [r7, #12]
 467:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl |= pecstate;
 1467              		.loc 1 467 9
 1468 001c FA68     		ldr	r2, [r7, #12]
 1469 001e 3B68     		ldr	r3, [r7]
 1470 0020 1343     		orrs	r3, r3, r2
 1471 0022 FB60     		str	r3, [r7, #12]
 468:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) = ctl;
 1472              		.loc 1 468 5
 1473 0024 7B68     		ldr	r3, [r7, #4]
 1474              		.loc 1 468 26
 1475 0026 FA68     		ldr	r2, [r7, #12]
 1476 0028 1A60     		str	r2, [r3]
 469:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1477              		.loc 1 469 1
 1478 002a 00BF     		nop
 1479 002c 1437     		adds	r7, r7, #20
 1480              	.LCFI121:
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 35


 1481              		.cfi_def_cfa_offset 4
 1482 002e BD46     		mov	sp, r7
 1483              	.LCFI122:
 1484              		.cfi_def_cfa_register 13
 1485              		@ sp needed
 1486 0030 80BC     		pop	{r7}
 1487              	.LCFI123:
 1488              		.cfi_restore 7
 1489              		.cfi_def_cfa_offset 0
 1490 0032 7047     		bx	lr
 1491              		.cfi_endproc
 1492              	.LFE76:
 1494              		.section	.text.i2c_pec_transfer_config,"ax",%progbits
 1495              		.align	1
 1496              		.global	i2c_pec_transfer_config
 1497              		.syntax unified
 1498              		.thumb
 1499              		.thumb_func
 1501              	i2c_pec_transfer_config:
 1502              	.LFB77:
 470:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 471:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 472:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      configure whether to transfer PEC value
 473:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 474:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  pecpara:
 475:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 476:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_PECTRANS_ENABLE: transfer PEC 
 477:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_PECTRANS_DISABLE: not transfer PEC 
 478:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 479:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 480:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 481:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_pec_transfer_config(uint32_t i2c_periph, uint32_t pecpara)
 482:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1503              		.loc 1 482 1
 1504              		.cfi_startproc
 1505              		@ args = 0, pretend = 0, frame = 16
 1506              		@ frame_needed = 1, uses_anonymous_args = 0
 1507              		@ link register save eliminated.
 1508 0000 80B4     		push	{r7}
 1509              	.LCFI124:
 1510              		.cfi_def_cfa_offset 4
 1511              		.cfi_offset 7, -4
 1512 0002 85B0     		sub	sp, sp, #20
 1513              	.LCFI125:
 1514              		.cfi_def_cfa_offset 24
 1515 0004 00AF     		add	r7, sp, #0
 1516              	.LCFI126:
 1517              		.cfi_def_cfa_register 7
 1518 0006 7860     		str	r0, [r7, #4]
 1519 0008 3960     		str	r1, [r7]
 483:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* whether to transfer PEC */
 484:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t ctl = 0U;
 1520              		.loc 1 484 14
 1521 000a 0023     		movs	r3, #0
 1522 000c FB60     		str	r3, [r7, #12]
 485:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 486:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl = I2C_CTL0(i2c_periph);
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 36


 1523              		.loc 1 486 11
 1524 000e 7B68     		ldr	r3, [r7, #4]
 1525              		.loc 1 486 9
 1526 0010 1B68     		ldr	r3, [r3]
 1527 0012 FB60     		str	r3, [r7, #12]
 487:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl &= ~(I2C_CTL0_PECTRANS);
 1528              		.loc 1 487 9
 1529 0014 FB68     		ldr	r3, [r7, #12]
 1530 0016 23F48053 		bic	r3, r3, #4096
 1531 001a FB60     		str	r3, [r7, #12]
 488:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl |= pecpara;
 1532              		.loc 1 488 9
 1533 001c FA68     		ldr	r2, [r7, #12]
 1534 001e 3B68     		ldr	r3, [r7]
 1535 0020 1343     		orrs	r3, r3, r2
 1536 0022 FB60     		str	r3, [r7, #12]
 489:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) = ctl;
 1537              		.loc 1 489 5
 1538 0024 7B68     		ldr	r3, [r7, #4]
 1539              		.loc 1 489 26
 1540 0026 FA68     		ldr	r2, [r7, #12]
 1541 0028 1A60     		str	r2, [r3]
 490:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1542              		.loc 1 490 1
 1543 002a 00BF     		nop
 1544 002c 1437     		adds	r7, r7, #20
 1545              	.LCFI127:
 1546              		.cfi_def_cfa_offset 4
 1547 002e BD46     		mov	sp, r7
 1548              	.LCFI128:
 1549              		.cfi_def_cfa_register 13
 1550              		@ sp needed
 1551 0030 80BC     		pop	{r7}
 1552              	.LCFI129:
 1553              		.cfi_restore 7
 1554              		.cfi_def_cfa_offset 0
 1555 0032 7047     		bx	lr
 1556              		.cfi_endproc
 1557              	.LFE77:
 1559              		.section	.text.i2c_pec_value_get,"ax",%progbits
 1560              		.align	1
 1561              		.global	i2c_pec_value_get
 1562              		.syntax unified
 1563              		.thumb
 1564              		.thumb_func
 1566              	i2c_pec_value_get:
 1567              	.LFB78:
 491:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 492:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 493:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      get packet error checking value
 494:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 495:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 496:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     PEC value
 497:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 498:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** uint8_t i2c_pec_value_get(uint32_t i2c_periph)
 499:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1568              		.loc 1 499 1
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 37


 1569              		.cfi_startproc
 1570              		@ args = 0, pretend = 0, frame = 8
 1571              		@ frame_needed = 1, uses_anonymous_args = 0
 1572              		@ link register save eliminated.
 1573 0000 80B4     		push	{r7}
 1574              	.LCFI130:
 1575              		.cfi_def_cfa_offset 4
 1576              		.cfi_offset 7, -4
 1577 0002 83B0     		sub	sp, sp, #12
 1578              	.LCFI131:
 1579              		.cfi_def_cfa_offset 16
 1580 0004 00AF     		add	r7, sp, #0
 1581              	.LCFI132:
 1582              		.cfi_def_cfa_register 7
 1583 0006 7860     		str	r0, [r7, #4]
 500:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     return (uint8_t)((I2C_STAT1(i2c_periph) & I2C_STAT1_PECV)>>STAT1_PECV_OFFSET);
 1584              		.loc 1 500 23
 1585 0008 7B68     		ldr	r3, [r7, #4]
 1586 000a 1833     		adds	r3, r3, #24
 1587 000c 1B68     		ldr	r3, [r3]
 1588              		.loc 1 500 62
 1589 000e 1B0A     		lsrs	r3, r3, #8
 1590              		.loc 1 500 12
 1591 0010 DBB2     		uxtb	r3, r3
 501:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1592              		.loc 1 501 1
 1593 0012 1846     		mov	r0, r3
 1594 0014 0C37     		adds	r7, r7, #12
 1595              	.LCFI133:
 1596              		.cfi_def_cfa_offset 4
 1597 0016 BD46     		mov	sp, r7
 1598              	.LCFI134:
 1599              		.cfi_def_cfa_register 13
 1600              		@ sp needed
 1601 0018 80BC     		pop	{r7}
 1602              	.LCFI135:
 1603              		.cfi_restore 7
 1604              		.cfi_def_cfa_offset 0
 1605 001a 7047     		bx	lr
 1606              		.cfi_endproc
 1607              	.LFE78:
 1609              		.section	.text.i2c_smbus_alert_config,"ax",%progbits
 1610              		.align	1
 1611              		.global	i2c_smbus_alert_config
 1612              		.syntax unified
 1613              		.thumb
 1614              		.thumb_func
 1616              	i2c_smbus_alert_config:
 1617              	.LFB79:
 502:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 503:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 504:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      configure I2C alert through SMBA pin
 505:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 506:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  smbuspara:
 507:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 508:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_SALTSEND_ENABLE: issue alert through SMBA pin 
 509:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_SALTSEND_DISABLE: not issue alert through SMBA pin 
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 38


 510:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 511:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 512:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 513:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_smbus_alert_config(uint32_t i2c_periph, uint32_t smbuspara)
 514:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1618              		.loc 1 514 1
 1619              		.cfi_startproc
 1620              		@ args = 0, pretend = 0, frame = 16
 1621              		@ frame_needed = 1, uses_anonymous_args = 0
 1622              		@ link register save eliminated.
 1623 0000 80B4     		push	{r7}
 1624              	.LCFI136:
 1625              		.cfi_def_cfa_offset 4
 1626              		.cfi_offset 7, -4
 1627 0002 85B0     		sub	sp, sp, #20
 1628              	.LCFI137:
 1629              		.cfi_def_cfa_offset 24
 1630 0004 00AF     		add	r7, sp, #0
 1631              	.LCFI138:
 1632              		.cfi_def_cfa_register 7
 1633 0006 7860     		str	r0, [r7, #4]
 1634 0008 3960     		str	r1, [r7]
 515:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* issue alert through SMBA pin configure*/
 516:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t ctl = 0U;
 1635              		.loc 1 516 14
 1636 000a 0023     		movs	r3, #0
 1637 000c FB60     		str	r3, [r7, #12]
 517:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 518:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl = I2C_CTL0(i2c_periph);
 1638              		.loc 1 518 11
 1639 000e 7B68     		ldr	r3, [r7, #4]
 1640              		.loc 1 518 9
 1641 0010 1B68     		ldr	r3, [r3]
 1642 0012 FB60     		str	r3, [r7, #12]
 519:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl &= ~(I2C_CTL0_SALT);
 1643              		.loc 1 519 9
 1644 0014 FB68     		ldr	r3, [r7, #12]
 1645 0016 23F40053 		bic	r3, r3, #8192
 1646 001a FB60     		str	r3, [r7, #12]
 520:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl |= smbuspara;
 1647              		.loc 1 520 9
 1648 001c FA68     		ldr	r2, [r7, #12]
 1649 001e 3B68     		ldr	r3, [r7]
 1650 0020 1343     		orrs	r3, r3, r2
 1651 0022 FB60     		str	r3, [r7, #12]
 521:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) = ctl;
 1652              		.loc 1 521 5
 1653 0024 7B68     		ldr	r3, [r7, #4]
 1654              		.loc 1 521 26
 1655 0026 FA68     		ldr	r2, [r7, #12]
 1656 0028 1A60     		str	r2, [r3]
 522:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1657              		.loc 1 522 1
 1658 002a 00BF     		nop
 1659 002c 1437     		adds	r7, r7, #20
 1660              	.LCFI139:
 1661              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 39


 1662 002e BD46     		mov	sp, r7
 1663              	.LCFI140:
 1664              		.cfi_def_cfa_register 13
 1665              		@ sp needed
 1666 0030 80BC     		pop	{r7}
 1667              	.LCFI141:
 1668              		.cfi_restore 7
 1669              		.cfi_def_cfa_offset 0
 1670 0032 7047     		bx	lr
 1671              		.cfi_endproc
 1672              	.LFE79:
 1674              		.section	.text.i2c_smbus_arp_config,"ax",%progbits
 1675              		.align	1
 1676              		.global	i2c_smbus_arp_config
 1677              		.syntax unified
 1678              		.thumb
 1679              		.thumb_func
 1681              	i2c_smbus_arp_config:
 1682              	.LFB80:
 523:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 524:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 525:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      configure I2C ARP protocol in SMBus
 526:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 527:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  arpstate:
 528:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 529:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_ARP_ENABLE: enable ARP
 530:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_ARP_DISABLE: disable ARP
 531:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 532:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 533:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 534:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_smbus_arp_config(uint32_t i2c_periph, uint32_t arpstate)
 535:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1683              		.loc 1 535 1
 1684              		.cfi_startproc
 1685              		@ args = 0, pretend = 0, frame = 16
 1686              		@ frame_needed = 1, uses_anonymous_args = 0
 1687              		@ link register save eliminated.
 1688 0000 80B4     		push	{r7}
 1689              	.LCFI142:
 1690              		.cfi_def_cfa_offset 4
 1691              		.cfi_offset 7, -4
 1692 0002 85B0     		sub	sp, sp, #20
 1693              	.LCFI143:
 1694              		.cfi_def_cfa_offset 24
 1695 0004 00AF     		add	r7, sp, #0
 1696              	.LCFI144:
 1697              		.cfi_def_cfa_register 7
 1698 0006 7860     		str	r0, [r7, #4]
 1699 0008 3960     		str	r1, [r7]
 536:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* enable or disable I2C ARP protocol*/
 537:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t ctl = 0U;
 1700              		.loc 1 537 14
 1701 000a 0023     		movs	r3, #0
 1702 000c FB60     		str	r3, [r7, #12]
 538:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 539:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl = I2C_CTL0(i2c_periph);
 1703              		.loc 1 539 11
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 40


 1704 000e 7B68     		ldr	r3, [r7, #4]
 1705              		.loc 1 539 9
 1706 0010 1B68     		ldr	r3, [r3]
 1707 0012 FB60     		str	r3, [r7, #12]
 540:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl &= ~(I2C_CTL0_ARPEN);
 1708              		.loc 1 540 9
 1709 0014 FB68     		ldr	r3, [r7, #12]
 1710 0016 23F01003 		bic	r3, r3, #16
 1711 001a FB60     		str	r3, [r7, #12]
 541:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     ctl |= arpstate;
 1712              		.loc 1 541 9
 1713 001c FA68     		ldr	r2, [r7, #12]
 1714 001e 3B68     		ldr	r3, [r7]
 1715 0020 1343     		orrs	r3, r3, r2
 1716 0022 FB60     		str	r3, [r7, #12]
 542:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_CTL0(i2c_periph) = ctl;
 1717              		.loc 1 542 5
 1718 0024 7B68     		ldr	r3, [r7, #4]
 1719              		.loc 1 542 26
 1720 0026 FA68     		ldr	r2, [r7, #12]
 1721 0028 1A60     		str	r2, [r3]
 543:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1722              		.loc 1 543 1
 1723 002a 00BF     		nop
 1724 002c 1437     		adds	r7, r7, #20
 1725              	.LCFI145:
 1726              		.cfi_def_cfa_offset 4
 1727 002e BD46     		mov	sp, r7
 1728              	.LCFI146:
 1729              		.cfi_def_cfa_register 13
 1730              		@ sp needed
 1731 0030 80BC     		pop	{r7}
 1732              	.LCFI147:
 1733              		.cfi_restore 7
 1734              		.cfi_def_cfa_offset 0
 1735 0032 7047     		bx	lr
 1736              		.cfi_endproc
 1737              	.LFE80:
 1739              		.section	.text.i2c_flag_get,"ax",%progbits
 1740              		.align	1
 1741              		.global	i2c_flag_get
 1742              		.syntax unified
 1743              		.thumb
 1744              		.thumb_func
 1746              	i2c_flag_get:
 1747              	.LFB81:
 544:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 545:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 546:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      get I2C flag status
 547:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 548:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  flag: I2C flags, refer to i2c_flag_enum
 549:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 550:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_SBSEND: start condition sent out in master mode
 551:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_ADDSEND: address is sent in master mode or received and matches in slave
 552:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_BTC: byte transmission finishes
 553:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_ADD10SEND: header of 10-bit address is sent in master mode
 554:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_STPDET: stop condition detected in slave mode
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 41


 555:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_RBNE: I2C_DATA is not empty during receiving
 556:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_TBE: I2C_DATA is empty during transmitting
 557:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_BERR: a bus error occurs indication a unexpected start or stop condition
 558:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_LOSTARB: arbitration lost in master mode
 559:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_AERR: acknowledge error
 560:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_OUERR: over-run or underrun situation occurs in slave mode
 561:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_PECERR: PEC error when receiving data
 562:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_SMBTO: timeout signal in SMBus mode
 563:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_SMBALT: SMBus alert status
 564:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_MASTER: a flag indicating whether I2C block is in master or slave mode
 565:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_I2CBSY: busy flag
 566:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_TRS: whether the I2C is a transmitter or a receiver
 567:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_RXGC: general call address (00h) received
 568:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_DEFSMB: default address of SMBus device
 569:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_HSTSMB: SMBus host header detected in slave mode
 570:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_FLAG_DUMOD: dual flag in slave mode indicating which address is matched in du
 571:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 572:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     FlagStatus: SET or RESET
 573:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 574:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** FlagStatus i2c_flag_get(uint32_t i2c_periph, i2c_flag_enum flag)
 575:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1748              		.loc 1 575 1
 1749              		.cfi_startproc
 1750              		@ args = 0, pretend = 0, frame = 8
 1751              		@ frame_needed = 1, uses_anonymous_args = 0
 1752              		@ link register save eliminated.
 1753 0000 80B4     		push	{r7}
 1754              	.LCFI148:
 1755              		.cfi_def_cfa_offset 4
 1756              		.cfi_offset 7, -4
 1757 0002 83B0     		sub	sp, sp, #12
 1758              	.LCFI149:
 1759              		.cfi_def_cfa_offset 16
 1760 0004 00AF     		add	r7, sp, #0
 1761              	.LCFI150:
 1762              		.cfi_def_cfa_register 7
 1763 0006 7860     		str	r0, [r7, #4]
 1764 0008 0B46     		mov	r3, r1
 1765 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 576:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     if(RESET != (I2C_REG_VAL(i2c_periph, flag) & BIT(I2C_BIT_POS(flag)))){
 1766              		.loc 1 576 18
 1767 000c 7B88     		ldrh	r3, [r7, #2]
 1768 000e 9B09     		lsrs	r3, r3, #6
 1769 0010 9BB2     		uxth	r3, r3
 1770 0012 1A46     		mov	r2, r3
 1771 0014 7B68     		ldr	r3, [r7, #4]
 1772 0016 1344     		add	r3, r3, r2
 1773 0018 1A68     		ldr	r2, [r3]
 1774              		.loc 1 576 50
 1775 001a 7B88     		ldrh	r3, [r7, #2]
 1776 001c 03F01F03 		and	r3, r3, #31
 1777              		.loc 1 576 14
 1778 0020 22FA03F3 		lsr	r3, r2, r3
 1779 0024 03F00103 		and	r3, r3, #1
 1780              		.loc 1 576 7
 1781 0028 002B     		cmp	r3, #0
 1782 002a 01D0     		beq	.L53
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 42


 577:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         return SET;
 1783              		.loc 1 577 16
 1784 002c 0123     		movs	r3, #1
 1785 002e 00E0     		b	.L54
 1786              	.L53:
 578:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }else{
 579:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         return RESET;
 1787              		.loc 1 579 16
 1788 0030 0023     		movs	r3, #0
 1789              	.L54:
 580:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 581:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1790              		.loc 1 581 1
 1791 0032 1846     		mov	r0, r3
 1792 0034 0C37     		adds	r7, r7, #12
 1793              	.LCFI151:
 1794              		.cfi_def_cfa_offset 4
 1795 0036 BD46     		mov	sp, r7
 1796              	.LCFI152:
 1797              		.cfi_def_cfa_register 13
 1798              		@ sp needed
 1799 0038 80BC     		pop	{r7}
 1800              	.LCFI153:
 1801              		.cfi_restore 7
 1802              		.cfi_def_cfa_offset 0
 1803 003a 7047     		bx	lr
 1804              		.cfi_endproc
 1805              	.LFE81:
 1807              		.section	.text.i2c_flag_clear,"ax",%progbits
 1808              		.align	1
 1809              		.global	i2c_flag_clear
 1810              		.syntax unified
 1811              		.thumb
 1812              		.thumb_func
 1814              	i2c_flag_clear:
 1815              	.LFB82:
 582:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 583:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 584:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      clear I2C flag status
 585:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 586:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  flag: I2C flags, refer to i2c_flag_enum
 587:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 588:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg       I2C_FLAG_SMBALT: SMBus alert status
 589:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg       I2C_FLAG_SMBTO: timeout signal in SMBus mode
 590:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg       I2C_FLAG_PECERR: PEC error when receiving data
 591:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg       I2C_FLAG_OUERR: over-run or under-run situation occurs in slave mode    
 592:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg       I2C_FLAG_AERR: acknowledge error
 593:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg       I2C_FLAG_LOSTARB: arbitration lost in master mode   
 594:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg       I2C_FLAG_BERR: a bus error occurs indication a unexpected start or stop condition 
 595:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg       I2C_FLAG_ADDSEND: address is sent in master mode or received and matches in slave 
 596:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 597:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 598:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 599:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_flag_clear(uint32_t i2c_periph, i2c_flag_enum flag)
 600:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1816              		.loc 1 600 1
 1817              		.cfi_startproc
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 43


 1818              		@ args = 0, pretend = 0, frame = 8
 1819              		@ frame_needed = 1, uses_anonymous_args = 0
 1820              		@ link register save eliminated.
 1821 0000 80B4     		push	{r7}
 1822              	.LCFI154:
 1823              		.cfi_def_cfa_offset 4
 1824              		.cfi_offset 7, -4
 1825 0002 83B0     		sub	sp, sp, #12
 1826              	.LCFI155:
 1827              		.cfi_def_cfa_offset 16
 1828 0004 00AF     		add	r7, sp, #0
 1829              	.LCFI156:
 1830              		.cfi_def_cfa_register 7
 1831 0006 7860     		str	r0, [r7, #4]
 1832 0008 0B46     		mov	r3, r1
 1833 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 601:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     if(I2C_FLAG_ADDSEND == flag){
 1834              		.loc 1 601 7
 1835 000c 7B88     		ldrh	r3, [r7, #2]
 1836 000e 40F20152 		movw	r2, #1281
 1837 0012 9342     		cmp	r3, r2
 1838 0014 06D1     		bne	.L56
 602:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         /* read I2C_STAT0 and then read I2C_STAT1 to clear ADDSEND */
 603:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_STAT0(i2c_periph);
 1839              		.loc 1 603 9
 1840 0016 7B68     		ldr	r3, [r7, #4]
 1841 0018 1433     		adds	r3, r3, #20
 1842 001a 1B68     		ldr	r3, [r3]
 604:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_STAT1(i2c_periph);
 1843              		.loc 1 604 9
 1844 001c 7B68     		ldr	r3, [r7, #4]
 1845 001e 1833     		adds	r3, r3, #24
 1846 0020 1B68     		ldr	r3, [r3]
 605:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }else{
 606:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_REG_VAL(i2c_periph, flag) &= ~BIT(I2C_BIT_POS(flag));
 607:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 608:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1847              		.loc 1 608 1
 1848 0022 15E0     		b	.L58
 1849              	.L56:
 606:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 1850              		.loc 1 606 9
 1851 0024 7B88     		ldrh	r3, [r7, #2]
 1852 0026 9B09     		lsrs	r3, r3, #6
 1853 0028 9BB2     		uxth	r3, r3
 1854 002a 1A46     		mov	r2, r3
 1855 002c 7B68     		ldr	r3, [r7, #4]
 1856 002e 1344     		add	r3, r3, r2
 1857 0030 1A68     		ldr	r2, [r3]
 606:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 1858              		.loc 1 606 43
 1859 0032 7B88     		ldrh	r3, [r7, #2]
 1860 0034 03F01F03 		and	r3, r3, #31
 1861 0038 0121     		movs	r1, #1
 1862 003a 01FA03F3 		lsl	r3, r1, r3
 606:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 1863              		.loc 1 606 42
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 44


 1864 003e DB43     		mvns	r3, r3
 606:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 1865              		.loc 1 606 9
 1866 0040 7988     		ldrh	r1, [r7, #2]
 1867 0042 8909     		lsrs	r1, r1, #6
 1868 0044 89B2     		uxth	r1, r1
 1869 0046 0846     		mov	r0, r1
 1870 0048 7968     		ldr	r1, [r7, #4]
 1871 004a 0144     		add	r1, r1, r0
 606:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 1872              		.loc 1 606 39
 1873 004c 1340     		ands	r3, r3, r2
 1874 004e 0B60     		str	r3, [r1]
 1875              	.L58:
 1876              		.loc 1 608 1
 1877 0050 00BF     		nop
 1878 0052 0C37     		adds	r7, r7, #12
 1879              	.LCFI157:
 1880              		.cfi_def_cfa_offset 4
 1881 0054 BD46     		mov	sp, r7
 1882              	.LCFI158:
 1883              		.cfi_def_cfa_register 13
 1884              		@ sp needed
 1885 0056 80BC     		pop	{r7}
 1886              	.LCFI159:
 1887              		.cfi_restore 7
 1888              		.cfi_def_cfa_offset 0
 1889 0058 7047     		bx	lr
 1890              		.cfi_endproc
 1891              	.LFE82:
 1893              		.section	.text.i2c_interrupt_enable,"ax",%progbits
 1894              		.align	1
 1895              		.global	i2c_interrupt_enable
 1896              		.syntax unified
 1897              		.thumb
 1898              		.thumb_func
 1900              	i2c_interrupt_enable:
 1901              	.LFB83:
 609:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 610:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 611:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      enable I2C interrupt
 612:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 613:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  interrupt: I2C interrupts, refer to i2c_interrupt_enum
 614:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 615:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_ERR: error interrupt
 616:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_EV: event interrupt 
 617:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_BUF: buffer interrupt
 618:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 619:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 620:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 621:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_interrupt_enable(uint32_t i2c_periph, i2c_interrupt_enum interrupt)
 622:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1902              		.loc 1 622 1
 1903              		.cfi_startproc
 1904              		@ args = 0, pretend = 0, frame = 8
 1905              		@ frame_needed = 1, uses_anonymous_args = 0
 1906              		@ link register save eliminated.
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 45


 1907 0000 80B4     		push	{r7}
 1908              	.LCFI160:
 1909              		.cfi_def_cfa_offset 4
 1910              		.cfi_offset 7, -4
 1911 0002 83B0     		sub	sp, sp, #12
 1912              	.LCFI161:
 1913              		.cfi_def_cfa_offset 16
 1914 0004 00AF     		add	r7, sp, #0
 1915              	.LCFI162:
 1916              		.cfi_def_cfa_register 7
 1917 0006 7860     		str	r0, [r7, #4]
 1918 0008 0B46     		mov	r3, r1
 1919 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 623:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_REG_VAL(i2c_periph, interrupt) |= BIT(I2C_BIT_POS(interrupt));
 1920              		.loc 1 623 5
 1921 000c 7B88     		ldrh	r3, [r7, #2]
 1922 000e 9B09     		lsrs	r3, r3, #6
 1923 0010 9BB2     		uxth	r3, r3
 1924 0012 1A46     		mov	r2, r3
 1925 0014 7B68     		ldr	r3, [r7, #4]
 1926 0016 1344     		add	r3, r3, r2
 1927 0018 1A68     		ldr	r2, [r3]
 1928              		.loc 1 623 43
 1929 001a 7B88     		ldrh	r3, [r7, #2]
 1930 001c 03F01F03 		and	r3, r3, #31
 1931 0020 0121     		movs	r1, #1
 1932 0022 01FA03F3 		lsl	r3, r1, r3
 1933              		.loc 1 623 5
 1934 0026 7988     		ldrh	r1, [r7, #2]
 1935 0028 8909     		lsrs	r1, r1, #6
 1936 002a 89B2     		uxth	r1, r1
 1937 002c 0846     		mov	r0, r1
 1938 002e 7968     		ldr	r1, [r7, #4]
 1939 0030 0144     		add	r1, r1, r0
 1940              		.loc 1 623 40
 1941 0032 1343     		orrs	r3, r3, r2
 1942 0034 0B60     		str	r3, [r1]
 624:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 1943              		.loc 1 624 1
 1944 0036 00BF     		nop
 1945 0038 0C37     		adds	r7, r7, #12
 1946              	.LCFI163:
 1947              		.cfi_def_cfa_offset 4
 1948 003a BD46     		mov	sp, r7
 1949              	.LCFI164:
 1950              		.cfi_def_cfa_register 13
 1951              		@ sp needed
 1952 003c 80BC     		pop	{r7}
 1953              	.LCFI165:
 1954              		.cfi_restore 7
 1955              		.cfi_def_cfa_offset 0
 1956 003e 7047     		bx	lr
 1957              		.cfi_endproc
 1958              	.LFE83:
 1960              		.section	.text.i2c_interrupt_disable,"ax",%progbits
 1961              		.align	1
 1962              		.global	i2c_interrupt_disable
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 46


 1963              		.syntax unified
 1964              		.thumb
 1965              		.thumb_func
 1967              	i2c_interrupt_disable:
 1968              	.LFB84:
 625:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 626:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 627:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      disable I2C interrupt
 628:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 629:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  interrupt: I2C interrupts, refer to i2c_flag_enum
 630:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 631:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_ERR: error interrupt enable 
 632:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_EV: event interrupt enable 
 633:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_BUF: buffer interrupt enable
 634:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 635:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 636:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 637:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_interrupt_disable(uint32_t i2c_periph, i2c_interrupt_enum interrupt)
 638:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 1969              		.loc 1 638 1
 1970              		.cfi_startproc
 1971              		@ args = 0, pretend = 0, frame = 8
 1972              		@ frame_needed = 1, uses_anonymous_args = 0
 1973              		@ link register save eliminated.
 1974 0000 80B4     		push	{r7}
 1975              	.LCFI166:
 1976              		.cfi_def_cfa_offset 4
 1977              		.cfi_offset 7, -4
 1978 0002 83B0     		sub	sp, sp, #12
 1979              	.LCFI167:
 1980              		.cfi_def_cfa_offset 16
 1981 0004 00AF     		add	r7, sp, #0
 1982              	.LCFI168:
 1983              		.cfi_def_cfa_register 7
 1984 0006 7860     		str	r0, [r7, #4]
 1985 0008 0B46     		mov	r3, r1
 1986 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 639:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     I2C_REG_VAL(i2c_periph, interrupt) &= ~BIT(I2C_BIT_POS(interrupt));
 1987              		.loc 1 639 5
 1988 000c 7B88     		ldrh	r3, [r7, #2]
 1989 000e 9B09     		lsrs	r3, r3, #6
 1990 0010 9BB2     		uxth	r3, r3
 1991 0012 1A46     		mov	r2, r3
 1992 0014 7B68     		ldr	r3, [r7, #4]
 1993 0016 1344     		add	r3, r3, r2
 1994 0018 1A68     		ldr	r2, [r3]
 1995              		.loc 1 639 44
 1996 001a 7B88     		ldrh	r3, [r7, #2]
 1997 001c 03F01F03 		and	r3, r3, #31
 1998 0020 0121     		movs	r1, #1
 1999 0022 01FA03F3 		lsl	r3, r1, r3
 2000              		.loc 1 639 43
 2001 0026 DB43     		mvns	r3, r3
 2002              		.loc 1 639 5
 2003 0028 7988     		ldrh	r1, [r7, #2]
 2004 002a 8909     		lsrs	r1, r1, #6
 2005 002c 89B2     		uxth	r1, r1
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 47


 2006 002e 0846     		mov	r0, r1
 2007 0030 7968     		ldr	r1, [r7, #4]
 2008 0032 0144     		add	r1, r1, r0
 2009              		.loc 1 639 40
 2010 0034 1340     		ands	r3, r3, r2
 2011 0036 0B60     		str	r3, [r1]
 640:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 2012              		.loc 1 640 1
 2013 0038 00BF     		nop
 2014 003a 0C37     		adds	r7, r7, #12
 2015              	.LCFI169:
 2016              		.cfi_def_cfa_offset 4
 2017 003c BD46     		mov	sp, r7
 2018              	.LCFI170:
 2019              		.cfi_def_cfa_register 13
 2020              		@ sp needed
 2021 003e 80BC     		pop	{r7}
 2022              	.LCFI171:
 2023              		.cfi_restore 7
 2024              		.cfi_def_cfa_offset 0
 2025 0040 7047     		bx	lr
 2026              		.cfi_endproc
 2027              	.LFE84:
 2029              		.section	.text.i2c_interrupt_flag_get,"ax",%progbits
 2030              		.align	1
 2031              		.global	i2c_interrupt_flag_get
 2032              		.syntax unified
 2033              		.thumb
 2034              		.thumb_func
 2036              	i2c_interrupt_flag_get:
 2037              	.LFB85:
 641:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 642:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 643:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      get I2C interrupt flag status
 644:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 645:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  int_flag: I2C interrupt flags, refer to i2c_interrupt_flag_enum
 646:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 647:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_SBSEND: start condition sent out in master mode interrupt flag
 648:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_ADDSEND: address is sent in master mode or received and matches in s
 649:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_BTC: byte transmission finishes
 650:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_ADD10SEND: header of 10-bit address is sent in master mode interrupt
 651:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_STPDET: etop condition detected in slave mode interrupt flag
 652:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_RBNE: I2C_DATA is not Empty during receiving interrupt flag
 653:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_TBE: I2C_DATA is empty during transmitting interrupt flag
 654:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_BERR: a bus error occurs indication a unexpected start or stop condi
 655:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_LOSTARB: arbitration lost in master mode interrupt flag
 656:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_AERR: acknowledge error interrupt flag
 657:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_OUERR: over-run or under-run situation occurs in slave mode interrup
 658:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_PECERR: PEC error when receiving data interrupt flag
 659:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_SMBTO: timeout signal in SMBus mode interrupt flag
 660:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_SMBALT: SMBus alert status interrupt flag
 661:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 662:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     FlagStatus: SET or RESET
 663:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
 664:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** FlagStatus i2c_interrupt_flag_get(uint32_t i2c_periph, i2c_interrupt_flag_enum int_flag)
 665:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 2038              		.loc 1 665 1
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 48


 2039              		.cfi_startproc
 2040              		@ args = 0, pretend = 0, frame = 24
 2041              		@ frame_needed = 1, uses_anonymous_args = 0
 2042              		@ link register save eliminated.
 2043 0000 80B4     		push	{r7}
 2044              	.LCFI172:
 2045              		.cfi_def_cfa_offset 4
 2046              		.cfi_offset 7, -4
 2047 0002 87B0     		sub	sp, sp, #28
 2048              	.LCFI173:
 2049              		.cfi_def_cfa_offset 32
 2050 0004 00AF     		add	r7, sp, #0
 2051              	.LCFI174:
 2052              		.cfi_def_cfa_register 7
 2053 0006 7860     		str	r0, [r7, #4]
 2054 0008 3960     		str	r1, [r7]
 666:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     uint32_t intenable = 0U, flagstatus = 0U, bufie;
 2055              		.loc 1 666 14
 2056 000a 0023     		movs	r3, #0
 2057 000c 7B61     		str	r3, [r7, #20]
 2058              		.loc 1 666 30
 2059 000e 0023     		movs	r3, #0
 2060 0010 3B61     		str	r3, [r7, #16]
 667:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 668:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* check BUFIE */
 669:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     bufie = I2C_CTL1(i2c_periph)&I2C_CTL1_BUFIE;
 2061              		.loc 1 669 13
 2062 0012 7B68     		ldr	r3, [r7, #4]
 2063 0014 0433     		adds	r3, r3, #4
 2064 0016 1B68     		ldr	r3, [r3]
 2065              		.loc 1 669 11
 2066 0018 03F48063 		and	r3, r3, #1024
 2067 001c FB60     		str	r3, [r7, #12]
 670:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     
 671:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* get the interrupt enable bit status */
 672:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     intenable = (I2C_REG_VAL(i2c_periph, int_flag) & BIT(I2C_BIT_POS(int_flag)));
 2068              		.loc 1 672 18
 2069 001e 3B68     		ldr	r3, [r7]
 2070 0020 9B09     		lsrs	r3, r3, #6
 2071 0022 C3F30902 		ubfx	r2, r3, #0, #10
 2072 0026 7B68     		ldr	r3, [r7, #4]
 2073 0028 1344     		add	r3, r3, r2
 2074 002a 1A68     		ldr	r2, [r3]
 2075              		.loc 1 672 54
 2076 002c 3B68     		ldr	r3, [r7]
 2077 002e 03F01F03 		and	r3, r3, #31
 2078 0032 0121     		movs	r1, #1
 2079 0034 01FA03F3 		lsl	r3, r1, r3
 2080              		.loc 1 672 15
 2081 0038 1340     		ands	r3, r3, r2
 2082 003a 7B61     		str	r3, [r7, #20]
 673:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     /* get the corresponding flag bit status */
 674:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     flagstatus = (I2C_REG_VAL2(i2c_periph, int_flag) & BIT(I2C_BIT_POS2(int_flag)));
 2083              		.loc 1 674 19
 2084 003c 3B68     		ldr	r3, [r7]
 2085 003e 9A0D     		lsrs	r2, r3, #22
 2086 0040 7B68     		ldr	r3, [r7, #4]
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 49


 2087 0042 1344     		add	r3, r3, r2
 2088 0044 1A68     		ldr	r2, [r3]
 2089              		.loc 1 674 56
 2090 0046 3B68     		ldr	r3, [r7]
 2091 0048 1B0C     		lsrs	r3, r3, #16
 2092 004a 03F01F03 		and	r3, r3, #31
 2093 004e 0121     		movs	r1, #1
 2094 0050 01FA03F3 		lsl	r3, r1, r3
 2095              		.loc 1 674 16
 2096 0054 1340     		ands	r3, r3, r2
 2097 0056 3B61     		str	r3, [r7, #16]
 675:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 676:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     if((I2C_INT_FLAG_RBNE == int_flag) || (I2C_INT_FLAG_TBE == int_flag)){
 2098              		.loc 1 676 7
 2099 0058 3B68     		ldr	r3, [r7]
 2100 005a 104A     		ldr	r2, .L67
 2101 005c 9342     		cmp	r3, r2
 2102 005e 03D0     		beq	.L62
 2103              		.loc 1 676 40 discriminator 1
 2104 0060 3B68     		ldr	r3, [r7]
 2105 0062 0F4A     		ldr	r2, .L67+4
 2106 0064 9342     		cmp	r3, r2
 2107 0066 0AD1     		bne	.L63
 2108              	.L62:
 677:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         if(intenable && bufie){
 2109              		.loc 1 677 11
 2110 0068 7B69     		ldr	r3, [r7, #20]
 2111 006a 002B     		cmp	r3, #0
 2112 006c 05D0     		beq	.L64
 2113              		.loc 1 677 22 discriminator 1
 2114 006e FB68     		ldr	r3, [r7, #12]
 2115 0070 002B     		cmp	r3, #0
 2116 0072 02D0     		beq	.L64
 678:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             intenable = 1U;                       
 2117              		.loc 1 678 23
 2118 0074 0123     		movs	r3, #1
 2119 0076 7B61     		str	r3, [r7, #20]
 2120 0078 01E0     		b	.L63
 2121              	.L64:
 679:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }else{
 680:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****             intenable = 0U;
 2122              		.loc 1 680 23
 2123 007a 0023     		movs	r3, #0
 2124 007c 7B61     		str	r3, [r7, #20]
 2125              	.L63:
 681:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         }
 682:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 683:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     if((0U != flagstatus) && (0U != intenable)){
 2126              		.loc 1 683 7
 2127 007e 3B69     		ldr	r3, [r7, #16]
 2128 0080 002B     		cmp	r3, #0
 2129 0082 04D0     		beq	.L65
 2130              		.loc 1 683 27 discriminator 1
 2131 0084 7B69     		ldr	r3, [r7, #20]
 2132 0086 002B     		cmp	r3, #0
 2133 0088 01D0     		beq	.L65
 684:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         return SET;
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 50


 2134              		.loc 1 684 16
 2135 008a 0123     		movs	r3, #1
 2136 008c 00E0     		b	.L66
 2137              	.L65:
 685:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }else{
 686:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         return RESET; 
 2138              		.loc 1 686 16
 2139 008e 0023     		movs	r3, #0
 2140              	.L66:
 687:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 688:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 2141              		.loc 1 688 1
 2142 0090 1846     		mov	r0, r3
 2143 0092 1C37     		adds	r7, r7, #28
 2144              	.LCFI175:
 2145              		.cfi_def_cfa_offset 4
 2146 0094 BD46     		mov	sp, r7
 2147              	.LCFI176:
 2148              		.cfi_def_cfa_register 13
 2149              		@ sp needed
 2150 0096 80BC     		pop	{r7}
 2151              	.LCFI177:
 2152              		.cfi_restore 7
 2153              		.cfi_def_cfa_offset 0
 2154 0098 7047     		bx	lr
 2155              	.L68:
 2156 009a 00BF     		.align	2
 2157              	.L67:
 2158 009c 09010605 		.word	84279561
 2159 00a0 09010705 		.word	84345097
 2160              		.cfi_endproc
 2161              	.LFE85:
 2163              		.section	.text.i2c_interrupt_flag_clear,"ax",%progbits
 2164              		.align	1
 2165              		.global	i2c_interrupt_flag_clear
 2166              		.syntax unified
 2167              		.thumb
 2168              		.thumb_func
 2170              	i2c_interrupt_flag_clear:
 2171              	.LFB86:
 689:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** 
 690:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** /*!
 691:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \brief      clear I2C interrupt flag status
 692:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  i2c_periph: I2Cx(x=0,1)
 693:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[in]  int_flag: I2C interrupt flags, refer to i2c_interrupt_flag_enum
 694:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****                 only one parameter can be selected which is shown as below:
 695:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_ADDSEND: address is sent in master mode or received and matches in s
 696:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_BERR: a bus error occurs indication a unexpected start or stop condi
 697:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_LOSTARB: arbitration lost in master mode interrupt flag
 698:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_AERR: acknowledge error interrupt flag
 699:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_OUERR: over-run or under-run situation occurs in slave mode interrup
 700:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_PECERR: PEC error when receiving data interrupt flag
 701:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_SMBTO: timeout signal in SMBus mode interrupt flag
 702:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****       \arg        I2C_INT_FLAG_SMBALT: SMBus alert status interrupt flag
 703:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \param[out] none
 704:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     \retval     none
 705:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** */
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 51


 706:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** void i2c_interrupt_flag_clear(uint32_t i2c_periph, i2c_interrupt_flag_enum int_flag)
 707:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** {
 2172              		.loc 1 707 1
 2173              		.cfi_startproc
 2174              		@ args = 0, pretend = 0, frame = 8
 2175              		@ frame_needed = 1, uses_anonymous_args = 0
 2176              		@ link register save eliminated.
 2177 0000 80B4     		push	{r7}
 2178              	.LCFI178:
 2179              		.cfi_def_cfa_offset 4
 2180              		.cfi_offset 7, -4
 2181 0002 83B0     		sub	sp, sp, #12
 2182              	.LCFI179:
 2183              		.cfi_def_cfa_offset 16
 2184 0004 00AF     		add	r7, sp, #0
 2185              	.LCFI180:
 2186              		.cfi_def_cfa_register 7
 2187 0006 7860     		str	r0, [r7, #4]
 2188 0008 3960     		str	r1, [r7]
 708:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     if(I2C_INT_FLAG_ADDSEND == int_flag){
 2189              		.loc 1 708 7
 2190 000a 3B68     		ldr	r3, [r7]
 2191 000c 104A     		ldr	r2, .L73
 2192 000e 9342     		cmp	r3, r2
 2193 0010 06D1     		bne	.L70
 709:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         /* read I2C_STAT0 and then read I2C_STAT1 to clear ADDSEND */
 710:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_STAT0(i2c_periph);
 2194              		.loc 1 710 9
 2195 0012 7B68     		ldr	r3, [r7, #4]
 2196 0014 1433     		adds	r3, r3, #20
 2197 0016 1B68     		ldr	r3, [r3]
 711:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_STAT1(i2c_periph);
 2198              		.loc 1 711 9
 2199 0018 7B68     		ldr	r3, [r7, #4]
 2200 001a 1833     		adds	r3, r3, #24
 2201 001c 1B68     		ldr	r3, [r3]
 712:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }else{
 713:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****         I2C_REG_VAL2(i2c_periph, int_flag) &= ~BIT(I2C_BIT_POS2(int_flag));
 714:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 715:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c **** }
 2202              		.loc 1 715 1
 2203 001e 12E0     		b	.L72
 2204              	.L70:
 713:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 2205              		.loc 1 713 9
 2206 0020 3B68     		ldr	r3, [r7]
 2207 0022 9A0D     		lsrs	r2, r3, #22
 2208 0024 7B68     		ldr	r3, [r7, #4]
 2209 0026 1344     		add	r3, r3, r2
 2210 0028 1A68     		ldr	r2, [r3]
 713:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 2211              		.loc 1 713 48
 2212 002a 3B68     		ldr	r3, [r7]
 2213 002c 1B0C     		lsrs	r3, r3, #16
 2214 002e 03F01F03 		and	r3, r3, #31
 2215 0032 0121     		movs	r1, #1
 2216 0034 01FA03F3 		lsl	r3, r1, r3
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 52


 713:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 2217              		.loc 1 713 47
 2218 0038 DB43     		mvns	r3, r3
 713:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 2219              		.loc 1 713 9
 2220 003a 3968     		ldr	r1, [r7]
 2221 003c 880D     		lsrs	r0, r1, #22
 2222 003e 7968     		ldr	r1, [r7, #4]
 2223 0040 0144     		add	r1, r1, r0
 713:./Firmware/GD32F10x_standard_peripheral/Source/gd32f10x_i2c.c ****     }
 2224              		.loc 1 713 44
 2225 0042 1340     		ands	r3, r3, r2
 2226 0044 0B60     		str	r3, [r1]
 2227              	.L72:
 2228              		.loc 1 715 1
 2229 0046 00BF     		nop
 2230 0048 0C37     		adds	r7, r7, #12
 2231              	.LCFI181:
 2232              		.cfi_def_cfa_offset 4
 2233 004a BD46     		mov	sp, r7
 2234              	.LCFI182:
 2235              		.cfi_def_cfa_register 13
 2236              		@ sp needed
 2237 004c 80BC     		pop	{r7}
 2238              	.LCFI183:
 2239              		.cfi_restore 7
 2240              		.cfi_def_cfa_offset 0
 2241 004e 7047     		bx	lr
 2242              	.L74:
 2243              		.align	2
 2244              	.L73:
 2245 0050 09010105 		.word	83951881
 2246              		.cfi_endproc
 2247              	.LFE86:
 2249              		.text
 2250              	.Letext0:
 2251              		.file 2 "C:/arm-toolchain/14.3/arm-none-eabi/include/machine/_default_types.h"
 2252              		.file 3 "C:/arm-toolchain/14.3/arm-none-eabi/include/sys/_stdint.h"
 2253              		.file 4 "./Firmware/CMSIS/GD/GD32F10x/Include/gd32f10x.h"
 2254              		.file 5 "./Firmware/GD32F10x_standard_peripheral/Include/gd32f10x_rcu.h"
 2255              		.file 6 "./Firmware/GD32F10x_standard_peripheral/Include/gd32f10x_i2c.h"
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 53


DEFINED SYMBOLS
                            *ABS*:00000000 gd32f10x_i2c.c
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:19     .text.i2c_deinit:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:25     .text.i2c_deinit:00000000 i2c_deinit
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:86     .text.i2c_deinit:00000048 $d
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:92     .text.i2c_clock_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:98     .text.i2c_clock_config:00000000 i2c_clock_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:346    .text.i2c_clock_config:00000168 $d
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:354    .text.i2c_mode_addr_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:360    .text.i2c_mode_addr_config:00000000 i2c_mode_addr_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:435    .text.i2c_smbus_type_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:441    .text.i2c_smbus_type_config:00000000 i2c_smbus_type_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:500    .text.i2c_ack_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:506    .text.i2c_ack_config:00000000 i2c_ack_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:565    .text.i2c_ackpos_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:571    .text.i2c_ackpos_config:00000000 i2c_ackpos_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:630    .text.i2c_master_addressing:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:636    .text.i2c_master_addressing:00000000 i2c_master_addressing
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:696    .text.i2c_dualaddr_enable:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:702    .text.i2c_dualaddr_enable:00000000 i2c_dualaddr_enable
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:752    .text.i2c_dualaddr_disable:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:758    .text.i2c_dualaddr_disable:00000000 i2c_dualaddr_disable
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:803    .text.i2c_enable:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:809    .text.i2c_enable:00000000 i2c_enable
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:852    .text.i2c_disable:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:858    .text.i2c_disable:00000000 i2c_disable
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:901    .text.i2c_start_on_bus:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:907    .text.i2c_start_on_bus:00000000 i2c_start_on_bus
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:950    .text.i2c_stop_on_bus:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:956    .text.i2c_stop_on_bus:00000000 i2c_stop_on_bus
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:999    .text.i2c_data_transmit:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1005   .text.i2c_data_transmit:00000000 i2c_data_transmit
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1051   .text.i2c_data_receive:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1057   .text.i2c_data_receive:00000000 i2c_data_receive
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1099   .text.i2c_dma_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1105   .text.i2c_dma_config:00000000 i2c_dma_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1167   .text.i2c_dma_last_transfer_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1173   .text.i2c_dma_last_transfer_config:00000000 i2c_dma_last_transfer_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1235   .text.i2c_stretch_scl_low_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1241   .text.i2c_stretch_scl_low_config:00000000 i2c_stretch_scl_low_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1300   .text.i2c_slave_response_to_gcall_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1306   .text.i2c_slave_response_to_gcall_config:00000000 i2c_slave_response_to_gcall_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1365   .text.i2c_software_reset_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1371   .text.i2c_software_reset_config:00000000 i2c_software_reset_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1430   .text.i2c_pec_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1436   .text.i2c_pec_config:00000000 i2c_pec_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1495   .text.i2c_pec_transfer_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1501   .text.i2c_pec_transfer_config:00000000 i2c_pec_transfer_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1560   .text.i2c_pec_value_get:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1566   .text.i2c_pec_value_get:00000000 i2c_pec_value_get
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1610   .text.i2c_smbus_alert_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1616   .text.i2c_smbus_alert_config:00000000 i2c_smbus_alert_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1675   .text.i2c_smbus_arp_config:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1681   .text.i2c_smbus_arp_config:00000000 i2c_smbus_arp_config
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1740   .text.i2c_flag_get:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1746   .text.i2c_flag_get:00000000 i2c_flag_get
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1808   .text.i2c_flag_clear:00000000 $t
ARM GAS  C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s 			page 54


C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1814   .text.i2c_flag_clear:00000000 i2c_flag_clear
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1894   .text.i2c_interrupt_enable:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1900   .text.i2c_interrupt_enable:00000000 i2c_interrupt_enable
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1961   .text.i2c_interrupt_disable:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:1967   .text.i2c_interrupt_disable:00000000 i2c_interrupt_disable
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:2030   .text.i2c_interrupt_flag_get:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:2036   .text.i2c_interrupt_flag_get:00000000 i2c_interrupt_flag_get
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:2158   .text.i2c_interrupt_flag_get:0000009c $d
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:2164   .text.i2c_interrupt_flag_clear:00000000 $t
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:2170   .text.i2c_interrupt_flag_clear:00000000 i2c_interrupt_flag_clear
C:\Users\PRAETE~1\AppData\Local\Temp\ccdE49gE.s:2245   .text.i2c_interrupt_flag_clear:00000050 $d

UNDEFINED SYMBOLS
rcu_periph_reset_enable
rcu_periph_reset_disable
rcu_clock_freq_get
